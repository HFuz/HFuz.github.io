(function(g){var window=this;'use strict';var Jaj=function(N,h){return g.Wo(N,h)},jUx=function(N){if(N instanceof g.F6)return N;
if(typeof N.Hb=="function")return N.Hb(!1);if(g.Ie(N)){let h=0;const O=new g.F6;O.next=function(){for(;;){if(h>=N.length)return g.SG;if(h in N)return g.Zy(N[h++]);h++}};
return O}throw Error("Not implemented");},S$V=function(N,h,O){if(g.Ie(N))g.So(N,h,O);
else for(N=jUx(N);;){const {done:u,value:D}=N.next();if(u)break;h.call(O,D,void 0,N)}},dL=function(N){g.C7(N,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^g.Mt()).toString(36));
return N},Gr=function(N,h,O){Array.isArray(O)||(O=[String(O)]);
g.zb(N.X,h,O)},H3r=function(N,h){const O=[];
S$V(h,function(u){let D;try{D=g.F5.prototype.W.call(this,u,!0)}catch(U){if(U=="Storage: Invalid value was encountered")return;throw U;}D===void 0?O.push(u):g.nw(D)&&O.push(u)},N);
return O},TuK=function(N,h){H3r(N,h).forEach(function(O){g.F5.prototype.remove.call(this,O)},N)},WRS=function(N){if(N.FH){if(N.FH.locationOverrideToken)return{locationOverrideToken:N.FH.locationOverrideToken};
if(N.FH.latitudeE7!=null&&N.FH.longitudeE7!=null)return{latitudeE7:N.FH.latitudeE7,longitudeE7:N.FH.longitudeE7}}return null},XPj=function(N,h){g.Zd(N,h)||N.push(h)},bJ=function(N){let h=0;
for(const O in N)h++;return h},fQV=function(N){try{return g.oe.JSON.parse(N)}catch(h){}N=String(N);
if(/^\s*$/.test(N)?0:/^[\],:{}\s\u2028\u2029]*$/.test(N.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+N+")")}catch(h){}throw Error("Invalid JSON string: "+N);},iJ=function(N){if(g.oe.JSON)try{return g.oe.JSON.parse(N)}catch(h){}return fQV(N)},Y$r=function(N,h,O,u){const D=new g.uu(null);
N&&g.DM(D,N);h&&g.UA(D,h);O&&g.df(D,O);u&&(D.W=u);return D},lQV=function(N,h){return new g.LaY(N,h)},Bf=function(N,h){return Object.prototype.hasOwnProperty.call(N,h)},xBV=function(N,h){return N===h},Cf=function(N,h){this.W={};
this.G=[];this.wx=this.size=0;var O=arguments.length;if(O>1){if(O%2)throw Error("Uneven number of arguments");for(var u=0;u<O;u+=2)this.set(arguments[u],arguments[u+1])}else if(N)if(N instanceof Cf)for(O=N.y3(),u=0;u<O.length;u++)this.set(O[u],N.get(O[u]));else for(u in N)this.set(u,N[u])},Ay=function(N){if(N.size!=N.G.length){for(var h=0,O=0;h<N.G.length;){var u=N.G[h];
Bf(N.W,u)&&(N.G[O++]=u);h++}N.G.length=O}if(N.size!=N.G.length){h={};for(u=O=0;O<N.G.length;){const D=N.G[O];Bf(h,D)||(N.G[u++]=D,h[D]=1);O++}N.G.length=u}},oM=function(N){this.name=this.id="";
this.clientName="UNKNOWN_INTERFACE";this.app="";this.type="REMOTE_CONTROL";this.ownerObfuscatedGaiaId=this.obfuscatedGaiaId=this.avatar=this.username="";this.capabilities=new Set;this.compatibleSenderThemes=new Set;this.experiments=new Set;this.theme="u";new Cf;this.model=this.brand="";this.year=0;this.chipset=this.osVersion=this.os="";this.mdxDialServerType="MDX_DIAL_SERVER_TYPE_UNKNOWN";N&&(this.id=N.id||N.name,this.name=N.name,this.clientName=N.clientName?N.clientName.toUpperCase():"UNKNOWN_INTERFACE",
this.app=N.app,this.type=N.type||"REMOTE_CONTROL",this.username=N.user||"",this.avatar=N.userAvatarUri||"",this.obfuscatedGaiaId=N.obfuscatedGaiaId||"",this.ownerObfuscatedGaiaId=N.ownerObfuscatedGaiaId||"",this.theme=N.theme||"u",nPx(this,N.capabilities||""),FR5(this,N.compatibleSenderThemes||""),Z3j(this,N.experiments||""),this.brand=N.brand||"",this.model=N.model||"",this.year=N.year||0,this.os=N.os||"",this.osVersion=N.osVersion||"",this.chipset=N.chipset||"",this.mdxDialServerType=N.mdxDialServerType||
"MDX_DIAL_SERVER_TYPE_UNKNOWN",N=N.deviceInfo)&&(N=JSON.parse(N),this.brand=N.brand||"",this.model=N.model||"",this.year=N.year||0,this.os=N.os||"",this.osVersion=N.osVersion||"",this.chipset=N.chipset||"",this.clientName=N.clientName?N.clientName.toUpperCase():"UNKNOWN_INTERFACE",this.mdxDialServerType=N.mdxDialServerType||"MDX_DIAL_SERVER_TYPE_UNKNOWN")},nPx=function(N,h){N.capabilities.clear();
g.HR(h.split(","),g.Re(Jaj,k_j)).forEach(O=>{N.capabilities.add(O)})},FR5=function(N,h){N.compatibleSenderThemes.clear();
g.HR(h.split(","),g.Re(Jaj,NhK)).forEach(O=>{N.compatibleSenderThemes.add(O)})},Z3j=function(N,h){N.experiments.clear();
h.split(",").forEach(O=>{N.experiments.add(O)})},Qw=function(N){N=N||{};
this.name=N.name||"";this.id=N.id||N.screenId||"";this.token=N.token||N.loungeToken||"";this.uuid=N.uuid||N.dialId||"";this.idType=N.screenIdType||"normal"},Lf=function(N,h){return!!h&&(N.id==h||N.uuid==h)},ho5=function(N){return{name:N.name,
screenId:N.id,loungeToken:N.token,dialId:N.uuid,screenIdType:N.idType}},OM4=function(N){return new Qw(N)},uWn=function(N){return Array.isArray(N)?g.TZ(N,OM4):[]},zr=function(N){return N?`{name:"${N.name}",id:${N.id.substr(0,6)}..,`+`token:${N.token?".."+N.token.slice(-6):"-"},uuid:${N.uuid?".."+N.uuid.slice(-6):"-"},idType:${N.idType}}`:"null"},vf=function(N){return Array.isArray(N)?"["+g.TZ(N,zr).join(",")+"]":"null"},wL=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(N){const h=
Math.random()*16|0;
return(N=="x"?h:h&3|8).toString(16)})},D1S=function(N){return g.TZ(N,function(h){return{key:h.id,
name:h.name}})},Kf=function(N,h){return g.xp(N,function(O){return O||h?!O!=!h?!1:O.id==h.id:!0})},mL=function(N,h){return g.xp(N,function(O){return Lf(O,h)})},U15=function(){var N=(0,g.$X)();
N&&TuK(N,N.G.Hb(!0))},IM=function(){const N=g.RW("yt-remote-connected-devices")||[];
g.V4(N);return N},d1Y=function(N){if(N.length==0)return[];
const h=N[0].indexOf("#"),O=h==-1?N[0]:N[0].substring(0,h);return g.TZ(N,function(u,D){return D==0?u:u.substring(O.length)})},GSR=function(N){g.V6("yt-remote-connected-devices",N,86400)},$c=function(){if(ty)return ty;
let N=g.RW("yt-remote-device-id");N||(N=wL(),g.V6("yt-remote-device-id",N,31536E3));const h=IM();let O=1,u=N;for(;g.Zd(h,u);)O++,u=N+"#"+O;return ty=u},yw=function(){let N=IM();
const h=$c();g.M$()&&g.M5(N,h);N=d1Y(N);if(N.length==0)try{g.tT("remote_sid")}catch(O){}else try{g.mN("remote_sid",N.join(","),-1)}catch(O){}},bMn=function(){return g.RW("yt-remote-session-browser-channel")},iMS=function(){return g.RW("yt-remote-local-screens")||[]},BhV=function(){g.V6("yt-remote-lounge-token-expiration",!0,86400)},CvS=function(N){N.length>5&&(N=N.slice(N.length-5));
const h=g.TZ(iMS(),function(u){return u.loungeToken}),O=g.TZ(N,function(u){return u.loungeToken});
g.fx(O,function(u){return!g.Zd(h,u)})&&BhV();
g.V6("yt-remote-local-screens",N,31536E3)},Vw=function(N){N||(g.PJ("yt-remote-session-screen-id"),g.PJ("yt-remote-session-video-id"));
yw();N=IM();g.dn(N,$c());GSR(N)},A34=function(){if(!RM){const N=g.Dq();
N&&(RM=new g.X5(N))}},o0j=function(){A34();
return RM?!!RM.get("yt-remote-use-staging-server"):!1},Pf=function(N,h){g.MP[N]=!0;
const O=g.RR();O&&O.publish.apply(O,arguments);g.MP[N]=!1},pf=function(){if(!MW){MW=new g.OC(new Qk5);
const N=g.hT("client_streamz_web_flush_count",-1);N!==-1&&(MW.U=N)}return MW},eF=function(){let N=window.navigator.userAgent.match(/Chrome\/([0-9]+)/);
return N?parseInt(N[1],10):0},LPo=function(N){return!!document.currentScript&&(document.currentScript.src.indexOf("?"+N)!=-1||document.currentScript.src.indexOf("&"+N)!=-1)},zox=function(){return typeof window.__onGCastApiAvailable=="function"?window.__onGCastApiAvailable:null},E6=function(N){N.length?v0K(N.shift(),function(){E6(N)}):cf()},cf=function(){let N=zox();
N&&N(!1,"No cast extension found")},v0K=function(N,h,O){let u=document.createElement("script");
u.onerror=h;O&&(u.onload=O);g.dY(u,g.ve(N));(document.head||document.documentElement).appendChild(u)},wnY=function(N){return"chrome-extension://"+N+"/cast_sender.js"},KPR=function(){const N=eF(),h=[];
if(N>1){const O=N-1;h.push("//www.gstatic.com/eureka/clank/"+N+"/cast_sender.js");h.push("//www.gstatic.com/eureka/clank/"+O+"/cast_sender.js")}return h},aM=function(){if(m1x){var N=2,h=zox(),O=function(){N--;
N==0&&h&&h(!0)};
window.__onGCastApiAvailable=O;v0K("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",cf,O)}},Ipr=function(){aM();
let N=KPR();N.push("//www.gstatic.com/eureka/clank/cast_sender.js");E6(N)},$1r=function(){aM();
let N=KPR();N.push(...twm.map(wnY));N.push("//www.gstatic.com/eureka/clank/cast_sender.js");E6(N)},qW=function(N,h,O){g.eS.call(this);
this.O=O!=null?(0,g.Vy)(N,O):N;this.DY=h;this.T=(0,g.Vy)(this.GQ,this);this.G=!1;this.W=0;this.U=this.RO=null;this.X=[]},gL=function(){g.Km.call(this,"p")},rL=function(){g.Km.call(this,"o")},s6=function(){return y3n=y3n||new g.jW},Vwm=function(N){g.Km.call(this,"serverreachability",N)},Jy=function(N){const h=s6();
h.dispatchEvent(new Vwm(h,N))},RoY=function(N){g.Km.call(this,"statevent",N)},jF=function(N){const h=s6();
h.dispatchEvent(new RoY(h,N))},Pvm=function(N,h,O,u){g.Km.call(this,"timingevent",N);
this.size=h;this.rtt=O;this.retries=u},SF=function(N,h){if(typeof N!=="function")throw Error("Fn must not be null and must be a function");
return g.oe.setTimeout(function(){N()},h)},Hf=function(){},Tr=function(N,h,O,u){this.U=N;
this.X=h;this.Qp=O;this.KC=u||1;this.AQ=new g.K7(this);this.df=45E3;this.TO=null;this.O=!1;this.J=this.FA=this.N=this.M5=this.Qm=this.Rr=this.eS=null;this.D=[];this.G=null;this.V=0;this.T=this.fC=null;this.nC=-1;this.XA=!1;this.jS=0;this.tQ=null;this.E3=this.l0=this.JQ=this.WB=!1;this.W=new MwV},MwV=function(){this.W=null;
this.G="";this.U=!1},Wf=function(N,h,O){N.M5=1;
N.N=dL(h.clone());N.J=O;N.WB=!0;pnS(N,null)},pnS=function(N,h){N.Qm=Date.now();
Xm(N);N.FA=N.N.clone();Gr(N.FA,"t",N.KC);N.V=0;const O=N.U.M5;N.W=new MwV;N.G=eoK(N.U,O?h:null,!N.J);N.jS>0&&(N.tQ=new g.u2((0,g.Vy)(N.WQ,N,N.G),N.jS));N.AQ.listen(N.G,"readystatechange",N.Wd);h=N.TO?g.FV(N.TO):{};N.J?(N.fC||(N.fC="POST"),h["Content-Type"]="application/x-www-form-urlencoded",N.G.send(N.FA,N.fC,N.J,h)):(N.fC="GET",N.G.send(N.FA,N.fC,null,h));Jy(1)},c3V=function(N){if(!E0V(N))return g.xL(N.G);
const h=g.nz(N.G);if(h==="")return"";let O="";const u=h.length,D=g.fz(N.G)==4;if(!N.W.W){if(typeof TextDecoder==="undefined")return ff(N),Yc(N),"";N.W.W=new g.oe.TextDecoder}for(let U=0;U<u;U++)N.W.U=!0,O+=N.W.W.decode(h[U],{stream:!(D&&U==u-1)});h.length=0;N.W.G+=O;N.V=0;return N.W.G},E0V=function(N){return N.G?N.fC=="GET"&&N.M5!=2&&N.U.Nn:!1},q1x=function(N,h){var O=N.V,u=h.indexOf("\n",O);
if(u==-1)return lJ;O=Number(h.substring(O,u));if(isNaN(O))return apS;u+=1;if(u+O>h.length)return lJ;h=h.slice(u,u+O);N.V=u+O;return h},Xm=function(N){N.Rr=Date.now()+N.df;
g0V(N,N.df)},g0V=function(N,h){if(N.eS!=null)throw Error("WatchDog timer not null");
N.eS=SF((0,g.Vy)(N.fh,N),h)},xc=function(N){N.eS&&(g.oe.clearTimeout(N.eS),N.eS=null)},Yc=function(N){N.U.Zg()||N.XA||r3o(N.U,N)},ff=function(N){xc(N);
g.M2(N.tQ);N.tQ=null;N.AQ.removeAll();if(N.G){const h=N.G;N.G=null;h.abort();h.dispose()}},D_=function(N,h){try{var O=N.U;
if(O.ZL!=0&&(O.G==N||nf(O.W,N)))if(!N.l0&&nf(O.W,N)&&O.ZL==3){try{var u=O.gU.G.parse(h)}catch(B){u=null}if(Array.isArray(u)&&u.length==3){var D=u;if(D[0]==0)a:{if(!O.N){if(O.G)if(O.G.Qm+3E3<N.Qm)Fm(O),Zk(O);else break a;kc(O);jF(18)}}else O.Y6=D[1],0<O.Y6-O.tQ&&D[2]<37500&&O.l0&&O.D==0&&!O.eS&&(O.eS=SF((0,g.Vy)(O.q9,O),6E3));if(N6(O.W)<=1&&O.nC){try{O.nC()}catch(B){}O.nC=void 0}}else h_(O,11)}else if((N.l0||O.G==N)&&Fm(O),!g.bl(h))for(D=O.gU.G.parse(h),h=0;h<D.length;h++){let B=D[h];O.tQ=B[0];B=B[1];
if(O.ZL==2)if(B[0]=="c"){O.X=B[1];O.Qp=B[2];const C=B[3];C!=null&&(O.qj=C);const A=B[5];A!=null&&typeof A==="number"&&A>0&&(O.jS=1.5*A);u=O;const Q=N.wD();if(Q){const z=g.Zx(Q,"X-Client-Wire-Protocol");if(z){var U=u.W;!U.G&&(g.il(z,"spdy")||g.il(z,"quic")||g.il(z,"h2"))&&(U.X=U.T,U.G=new Set,U.W&&(Om(U,U.W),U.W=null))}if(u.WB){const K=g.Zx(Q,"X-HTTP-Session-Id");K&&(u.FH=K,g.C7(u.TO,u.WB,K))}}O.ZL=3;O.T&&O.T.i7();O.XF&&(O.LF=Date.now()-N.Qm);u=O;var d=N;u.Bo=skR(u,u.M5?u.Qp:null,u.rq);if(d.l0){J3j(u.W,
d);var G=d,b=u.jS;b&&G.setTimeout(b);G.eS&&(xc(G),Xm(G));u.G=d}else jkV(u);O.U.length>0&&u1(O)}else B[0]!="stop"&&B[0]!="close"||h_(O,7);else O.ZL==3&&(B[0]=="stop"||B[0]=="close"?B[0]=="stop"?h_(O,7):O.disconnect():B[0]!="noop"&&O.T&&O.T.b7(B),O.D=0)}Jy(4)}catch(B){}},S1m=function(N){this.T=N||10;
g.oe.PerformanceNavigationTiming?(N=g.oe.performance.getEntriesByType("navigation"),N=N.length>0&&(N[0].nextHopProtocol=="hq"||N[0].nextHopProtocol=="h2")):N=!!(g.oe.chrome&&g.oe.chrome.loadTimes&&g.oe.chrome.loadTimes()&&g.oe.chrome.loadTimes().wasFetchedViaSpdy);this.X=N?this.T:1;this.G=null;this.X>1&&(this.G=new Set);this.W=null;this.U=[]},HMS=function(N){return N.W?!0:N.G?N.G.size>=N.X:!1},N6=function(N){return N.W?1:N.G?N.G.size:0},nf=function(N,h){return N.W?N.W==h:N.G?N.G.has(h):!1},Om=function(N,
h){N.G?N.G.add(h):N.W=h},J3j=function(N,h){N.W&&N.W==h?N.W=null:N.G&&N.G.has(h)&&N.G.delete(h)},Um=function(N){if(N.W!=null)return N.U.concat(N.W.D);
if(N.G!=null&&N.G.size!==0){let h=N.U;for(const O of N.G.values())h=h.concat(O.D);return h}return g.Q4(N.U)},Thj=function(N,h){const O=new Hf;
if(g.oe.Image){const u=new Image;u.onload=g.Re(dN,O,"TestLoadImage: loaded",!0,h,u);u.onerror=g.Re(dN,O,"TestLoadImage: error",!1,h,u);u.onabort=g.Re(dN,O,"TestLoadImage: abort",!1,h,u);u.ontimeout=g.Re(dN,O,"TestLoadImage: timeout",!1,h,u);g.oe.setTimeout(function(){if(u.ontimeout)u.ontimeout()},1E4);
u.src=N}else h(!1)},WPr=function(N,h){const O=new Hf,u=new AbortController,D=setTimeout(()=>{u.abort();
dN(O,"TestPingServer: timeout",!1,h)},1E4);
fetch(N,{signal:u.signal}).then(U=>{clearTimeout(D);U.ok?dN(O,"TestPingServer: ok",!0,h):dN(O,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(D);
dN(O,"TestPingServer: error",!1,h)})},dN=function(N,h,O,u,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),u(O)}catch(U){}},Xnr=function(){this.G=new G7},b1=function(N,h,O){return O&&O.oY?O.oY[N]||h:h},fpj=function(N){this.U=[];
this.Qp=this.Bo=this.TO=this.rq=this.G=this.FH=this.WB=this.XA=this.V=this.JQ=this.J=null;this.WX=this.FA=0;this.nM=b1("failFast",!1,N);this.l0=this.eS=this.N=this.O=this.T=null;this.Wo=!0;this.Y6=this.tQ=-1;this.KC=this.D=this.Qm=0;this.P3=b1("baseRetryDelayMs",5E3,N);this.hw=b1("retryDelaySeedMs",1E4,N);this.o2=b1("forwardChannelMaxRetries",2,N);this.u_=b1("forwardChannelRequestTimeoutMs",2E4,N);this.rU=N&&N.zyF||void 0;this.tI=N&&N.Bum||void 0;this.Nn=N&&N.cwB||!1;this.jS=void 0;this.M5=N&&N.Cd||
!1;this.X="";this.W=new S1m(N&&N.hPm);this.gU=new Xnr;this.AQ=N&&N.JdO||!1;this.Rr=N&&N.dSC||!1;this.AQ&&this.Rr&&(this.Rr=!1);this.hI=N&&N.lTm||!1;N&&N.C_F&&(this.Wo=!1);this.XF=!this.AQ&&this.Wo&&N&&N.Nqr||!1;this.zZ=void 0;N&&N.Ui&&N.Ui>0&&(this.zZ=N.Ui);this.nC=void 0;this.LF=0;this.df=!1;this.E3=this.fC=null},Zk=function(N){N.G&&(i1(N),N.G.cancel(),N.G=null)},Y1x=function(N){Zk(N);
N.N&&(g.oe.clearTimeout(N.N),N.N=null);Fm(N);N.W.cancel();N.O&&(typeof N.O==="number"&&g.oe.clearTimeout(N.O),N.O=null)},u1=function(N){HMS(N.W)||N.O||(N.O=!0,g.ua(N.vQ,N),N.Qm=0)},x1x=function(N,h){if(N6(N.W)>=N.W.X-(N.O?1:0))return!1;
if(N.O)return N.U=h.D.concat(N.U),!0;if(N.ZL==1||N.ZL==2||N.Qm>=(N.nM?0:N.o2))return!1;N.O=SF((0,g.Vy)(N.vQ,N,h),lpY(N,N.Qm));N.Qm++;return!0},FPo=function(N,h){var O;
h?O=h.Qp:O=N.FA++;const u=N.TO.clone();g.C7(u,"SID",N.X);g.C7(u,"RID",O);g.C7(u,"AID",N.tQ);Bl(N,u);N.V&&N.J&&g.wf(u,N.V,N.J);O=new Tr(N,N.X,O,N.Qm+1);N.V===null&&(O.TO=N.J);h&&(N.U=h.D.concat(N.U));h=n0S(N,O,1E3);O.setTimeout(Math.round(N.u_*.5)+Math.round(N.u_*.5*Math.random()));Om(N.W,O);Wf(O,u,h)},Bl=function(N,h){N.XA&&g.ex(N.XA,function(O,u){g.C7(h,u,O)});
N.T&&g.ex({},function(O,u){g.C7(h,u,O)})},n0S=function(N,h,O){O=Math.min(N.U.length,O);
const u=N.T?(0,g.Vy)(N.T.UT,N.T,N):null;a:{var D=N.U;let G=-1;for(;;){const b=["count="+O];G==-1?O>0?(G=D[0].G,b.push("ofs="+G)):G=0:b.push("ofs="+G);let B=!0;for(let C=0;C<O;C++){var U=D[C].G;const A=D[C].map;U-=G;if(U<0)G=Math.max(0,D[C].G-100),B=!1;else try{U="req"+U+"_"||"";try{var d=A instanceof Map?A:Object.entries(A);for(const [Q,z]of d){let K=z;g.td(z)&&(K=g.a9(z));b.push(U+Q+"="+encodeURIComponent(K))}}catch(Q){throw b.push(U+"type="+encodeURIComponent("_badmap")),Q;}}catch(Q){u&&u(A)}}if(B){d=
b.join("&");break a}}d=void 0}N=N.U.splice(0,O);h.D=N;return d},jkV=function(N){N.G||N.N||(N.KC=1,g.ua(N.UQ,N),N.D=0)},kc=function(N){if(N.G||N.N||N.D>=3)return!1;
N.KC++;N.N=SF((0,g.Vy)(N.UQ,N),lpY(N,N.D));N.D++;return!0},i1=function(N){N.fC!=null&&(g.oe.clearTimeout(N.fC),N.fC=null)},ZM4=function(N){N.G=new Tr(N,N.X,"rpc",N.KC);
N.V===null&&(N.G.TO=N.J);N.G.jS=0;var h=N.Bo.clone();g.C7(h,"RID","rpc");g.C7(h,"SID",N.X);g.C7(h,"AID",N.tQ);g.C7(h,"CI",N.l0?"0":"1");!N.l0&&N.zZ&&g.C7(h,"TO",N.zZ);g.C7(h,"TYPE","xmlhttp");Bl(N,h);N.V&&N.J&&g.wf(h,N.V,N.J);N.jS&&N.G.setTimeout(N.jS);var O=N.G;N=N.Qp;O.M5=1;O.N=dL(h.clone());O.J=null;O.WB=!0;pnS(O,N)},Fm=function(N){N.eS!=null&&(g.oe.clearTimeout(N.eS),N.eS=null)},r3o=function(N,h){var O=null;
if(N.G==h){Fm(N);i1(N);N.G=null;var u=2}else if(nf(N.W,h))O=h.D,J3j(N.W,h),u=1;else return;if(N.ZL!=0)if(h.O)if(u==1){O=h.J?h.J.length:0;h=Date.now()-h.Qm;var D=N.Qm;u=s6();u.dispatchEvent(new Pvm(u,O,h,D));u1(N)}else jkV(N);else{var U=h.nC;D=h.getLastError();if(D==3||D==0&&U>0||!(u==1&&x1x(N,h)||u==2&&kc(N)))switch(O&&O.length>0&&(h=N.W,h.U=h.U.concat(O)),D){case 1:h_(N,5);break;case 4:h_(N,10);break;case 3:h_(N,6);break;default:h_(N,2)}}},lpY=function(N,h){let O=N.P3+Math.floor(Math.random()*N.hw);
N.isActive()||(O*=2);return O*h},h_=function(N,h){if(h==2){var O=(0,g.Vy)(N.yf,N),u=N.tI;
const D=!u;u=new g.uu(u||"//www.google.com/images/cleardot.gif");g.oe.location&&g.oe.location.protocol=="http"||g.DM(u,"https");dL(u);D?Thj(u.toString(),O):WPr(u.toString(),O)}else jF(2);N.ZL=0;N.T&&N.T.XE(h);kS4(N);Y1x(N)},kS4=function(N){N.ZL=0;
N.E3=[];if(N.T){const h=Um(N.W);if(h.length!=0||N.U.length!=0)g.z5(N.E3,h),g.z5(N.E3,N.U),N.W.U.length=0,g.Q4(N.U),N.U.length=0;N.T.I3()}},NCS=function(N){if(N.ZL==0)return N.E3;
let h=[];g.z5(h,Um(N.W));g.z5(h,N.U);return h},skR=function(N,h,O){var u=g.Ae(O);
u.G!=""?(h&&g.UA(u,h+"."+u.G),g.df(u,u.U)):(u=g.oe.location,u=Y$r(u.protocol,h?h+"."+u.hostname:u.hostname,+u.port,O));h=N.WB;O=N.FH;h&&O&&g.C7(u,h,O);g.C7(u,"VER",N.qj);Bl(N,u);return u},eoK=function(N,h,O){if(h&&!N.M5)throw Error("Can't create secondary domain capable XhrIo object.");
h=N.Nn&&!N.rU?new g.jD(new g.ZG({qT:O})):new g.jD(N.rU);h.V=N.M5;return h},hwR=function(){},Oe5=function(){},A_=function(N,h){g.jW.call(this);
this.G=new fpj(h);this.O=N;this.W=h&&h.zb||null;N=h&&h.nm||null;h&&h.mS5&&(N?N["X-Client-Protocol"]="webchannel":N={"X-Client-Protocol":"webchannel"});this.G.J=N;N=h&&h.U0B||null;h&&h.hP&&(N?N["X-WebChannel-Content-Type"]=h.hP:N={"X-WebChannel-Content-Type":h.hP});h&&h.zg&&(N?N["X-WebChannel-Client-Profile"]=h.zg:N={"X-WebChannel-Client-Profile":h.zg});this.G.JQ=N;(N=h&&h.qkf)&&!g.bl(N)&&(this.G.V=N);this.V=h&&h.Cd||!1;this.T=h&&h.vEA||!1;(h=h&&h.yw)&&!g.bl(h)&&(this.G.WB=h,g.T5(this.W,h)&&(N=this.W,
h in N&&delete N[h]));this.U=new C8(this)},uYS=function(N){gL.call(this);
N.__headers__&&(this.headers=N.__headers__,this.statusCode=N.__status__,delete N.__headers__,delete N.__status__);const h=N.__sm__;h?this.data=(this.G=g.sR(h))?g.xY(h,this.G):h:this.data=N},Db4=function(N){rL.call(this);
this.status=1;this.errorCode=N},C8=function(N){this.G=N},o$=function(N,h){this.X=N;
this.G=h},Q2=function(N,h){if(typeof N!=="function")throw Error("Fn must not be null and must be a function");
return g.oe.setTimeout(function(){N()},h)},z7=function(){L8.dispatchEvent(new UbY)},vl=function(N,h,O,u){this.G=N;
this.X=h;this.V=O;this.O=u||1;this.W=45E3;this.U=new g.K7(this);this.T=new g.zx;this.T.setInterval(250)},GD5=function(N,h,O){N.t3=1;
N.qX=dL(h.clone());N.yu=O;N.WB=!0;dbY(N,null)},wN=function(N,h,O,u,D){N.t3=1;
N.qX=dL(h.clone());N.yu=null;N.WB=O;D&&(N.Ap=!1);dbY(N,u)},dbY=function(N,h){N.I6=Date.now();
K8(N);N.h3=N.qX.clone();Gr(N.h3,"t",N.O);N.SK=0;N.M1=N.G.PO(N.G.Xj()?h:null);N.gm>0&&(N.mV=new g.u2((0,g.Vy)(N.l7,N,N.M1),N.gm));N.U.listen(N.M1,"readystatechange",N.Xm);h=N.Qu?g.FV(N.Qu):{};N.yu?(N.F7="POST",h["Content-Type"]="application/x-www-form-urlencoded",N.M1.send(N.h3,N.F7,N.yu,h)):(N.F7="GET",N.Ap&&!g.wX&&(h.Connection="close"),N.M1.send(N.h3,N.F7,null,h));N.G.oE(1)},ie5=function(N,h){var O=N.SK,u=h.indexOf("\n",O);
if(u==-1)return mg;O=Number(h.substring(O,u));if(isNaN(O))return ben;u+=1;if(u+O>h.length)return mg;h=h.slice(u,u+O);N.SK=u+O;return h},K8=function(N){N.RM=Date.now()+N.W;
BCK(N,N.W)},BCK=function(N,h){if(N.Y9!=null)throw Error("WatchDog timer not null");
N.Y9=Q2((0,g.Vy)(N.Im,N),h)},CNS=function(N){N.Y9&&(g.oe.clearTimeout(N.Y9),N.Y9=null)},I$=function(N){N.G.Zg()||N.Ug||N.G.cO(N)},t_=function(N){CNS(N);
g.M2(N.mV);N.mV=null;N.T.stop();N.U.removeAll();if(N.M1){const h=N.M1;N.M1=null;h.abort();h.dispose()}N.Rt&&(N.Rt=null)},AZo=function(N,h){try{N.G.Ts(N,h),N.G.oE(4)}catch(O){}},Qg5=function(N,h,O,u,D){if(u==0)O(!1);
else{var U=D||0;u--;o94(N,h,function(d){d?O(!0):g.oe.setTimeout(function(){Qg5(N,h,O,u,U)},U)})}},o94=function(N,h,O){const u=new Image;
u.onload=function(){try{$B(u),O(!0)}catch(D){}};
u.onerror=function(){try{$B(u),O(!1)}catch(D){}};
u.onabort=function(){try{$B(u),O(!1)}catch(D){}};
u.ontimeout=function(){try{$B(u),O(!1)}catch(D){}};
g.oe.setTimeout(function(){if(u.ontimeout)u.ontimeout()},h);
u.src=N},$B=function(N){N.onload=null;
N.onerror=null;N.onabort=null;N.ontimeout=null},LZ5=function(N){this.G=N;
this.W=new G7},zwm=function(N){const h=y2(N.G,N.Xu,"/mail/images/cleardot.gif");
dL(h);Qg5(h.toString(),5E3,(0,g.Vy)(N.t1,N),3,2E3);N.oE(1)},R$=function(N){var h=N.G.O;
h!=null?(z7(),h?(z7(),V2(N.G,N,!1)):(z7(),V2(N.G,N,!0))):(N.wh=new vl(N),N.wh.Qu=N.AC,h=N.G,h=y2(h,h.Xj()?N.OO:null,N.pA),z7(),Gr(h,"TYPE","xmlhttp"),wN(N.wh,h,!1,N.OO,!1))},Pl=function(N,h,O){this.G=1;
this.W=[];this.U=[];this.T=new G7;this.J=N||null;this.O=h!=null?h:null;this.N=O||!1},v9Y=function(N,h){this.G=N;
this.map=h;this.context=null},w05=function(N,h,O,u){g.Km.call(this,"timingevent",N);
this.size=h;this.rtt=O;this.retries=u},KZR=function(N){g.Km.call(this,"serverreachability",N)},mbm=function(N){N.bK(1,0);
N.sO=y2(N,null,N.xj);M6(N)},IVR=function(N){N.G7&&(N.G7.abort(),N.G7=null);
N.yc&&(N.yc.cancel(),N.yc=null);N.rg&&(g.oe.clearTimeout(N.rg),N.rg=null);p8(N);N.bl&&(N.bl.cancel(),N.bl=null);N.JN&&(g.oe.clearTimeout(N.JN),N.JN=null)},eL=function(N,h){if(N.G==0)throw Error("Invalid operation: sending map when state is closed");
N.W.push(new v9Y(N.iK++,h));N.G!=2&&N.G!=3||M6(N)},tUV=function(N){let h=0;
N.yc&&h++;N.bl&&h++;return h},M6=function(N){N.bl||N.JN||(N.JN=Q2((0,g.Vy)(N.md,N),0),N.Q8=0)},yZV=function(N,h){if(N.G==1){if(!h){N.iy=Math.floor(Math.random()*1E5);
h=N.iy++;const O=new vl(N,"",h);O.Qu=N.j7;const u=Em(N),D=N.sO.clone();g.C7(D,"RID",h);g.C7(D,"CVER","1");cl(N,D);GD5(O,D,u);N.bl=O;N.G=2}}else N.G==3&&(h?$bo(N,h):N.W.length==0||N.bl||$bo(N))},$bo=function(N,h){if(h)if(N.ew>6){N.W=N.U.concat(N.W);
N.U.length=0;var O=N.iy-1;h=Em(N)}else O=h.V,h=h.yu;else O=N.iy++,h=Em(N);const u=N.sO.clone();g.C7(u,"SID",N.X);g.C7(u,"RID",O);g.C7(u,"AID",N.y8);cl(N,u);O=new vl(N,N.X,O,N.Q8+1);O.Qu=N.j7;O.setTimeout(1E4+Math.round(1E4*Math.random()));N.bl=O;GD5(O,u,h)},cl=function(N,h){N.C7&&(N=N.C7.OQ())&&g.ex(N,function(O,u){g.C7(h,u,O)})},Em=function(N){const h=Math.min(N.W.length,1E3),O=["count="+h];
let u;N.ew>6&&h>0?(u=N.W[0].G,O.push("ofs="+u)):u=0;for(let D=0;D<h;D++){let U=N.W[D].G;const d=N.W[D].map;U=N.ew<=6?D:U-u;try{g.ex(d,function(G,b){O.push("req"+U+"_"+b+"="+encodeURIComponent(G))})}catch(G){O.push("req"+U+"_type="+encodeURIComponent("_badmap"))}}N.U=N.U.concat(N.W.splice(0,h));
return O.join("&")},VUY=function(N){N.yc||N.rg||(N.V=1,N.rg=Q2((0,g.Vy)(N.Mj,N),0),N.k9=0)},a$=function(N){if(N.yc||N.rg||N.k9>=3)return!1;
N.V++;N.rg=Q2((0,g.Vy)(N.Mj,N),Rw5(N,N.k9));N.k9++;return!0},V2=function(N,h,O){N.m6=N.O==null?O:!N.O;
N.Ve=h.Ti;N.N||mbm(N)},p8=function(N){N.GX!=null&&(g.oe.clearTimeout(N.GX),N.GX=null)},Rw5=function(N,h){let O=5E3+Math.floor(Math.random()*1E4);
N.isActive()||(O*=2);return O*h},q6=function(N,h){if(h==2||h==9){var O=null;
N.C7&&(O=null);var u=(0,g.Vy)(N.Qf,N);O||(O=new g.uu("//www.google.com/images/cleardot.gif"),dL(O));o94(O.toString(),1E4,u)}else z7();PNx(N,h)},PNx=function(N,h){N.G=0;
N.C7&&N.C7.hK(h);MU5(N);IVR(N)},MU5=function(N){N.G=0;
N.Ve=-1;if(N.C7)if(N.U.length==0&&N.W.length==0)N.C7.nA();else{const h=g.Q4(N.U),O=g.Q4(N.W);N.U.length=0;N.W.length=0;N.C7.nA(h,O)}},y2=function(N,h,O){let u=g.Ae(O);
if(u.G!="")h&&g.UA(u,h+"."+u.G),g.df(u,u.U);else{const D=window.location;u=Y$r(D.protocol,h?h+"."+D.hostname:D.hostname,+D.port,O)}N.by&&g.ex(N.by,function(D,U){g.C7(u,U,D)});
g.C7(u,"VER",N.ew);cl(N,u);return u},p05=function(){},ewS=function(){this.G=[];
this.W=[]},E95=function(N,h){this.action=N;
this.params=h||{}},gN=function(N,h){g.eS.call(this);
this.G=new g.Du(this.V0,0,this);g.R(this,this.G);this.DY=5E3;this.W=0;if(typeof N==="function")h&&(N=(0,g.Vy)(N,h));else if(N&&typeof N.handleEvent==="function")N=(0,g.Vy)(N.handleEvent,N);else throw Error("Invalid listener argument");this.U=N},rN=function(N,h,O=!1,u=()=>"",D=!1,U=!1,d=!1,G=()=>g.Nm({}),b=!1,B,C=!1,A=!1,Q=!1,z=!1){this.M5=N;
this.eS=h;this.O=new g.WY;this.W=new gN(this.Ld,this);this.G=null;this.V=!1;this.J=null;this.Qm="";this.D=this.N=0;this.U=[];this.E3=O;this.WB=u;this.T=U;this.TO=G;this.XA=B;this.KC=d;this.fC=null;this.X=g.Nm();this.Qp=D;this.JQ=b;this.AQ=C;this.Rr=A;this.rq=Q;this.nC=z;this.jS=new cZY;this.l0=new aVm;this.df=new qu4;this.FA=new g9j;this.tQ=new rZV;this.Wo=new sgR;this.XF=new JZn},jgV=function(N,h,O,u,D){sm(N);
if(N.G){const U=g.J("ID_TOKEN"),d=N.G.j7||{};U?d["x-youtube-identity-token"]=U:delete d["x-youtube-identity-token"];N.G.j7=d}J_(N);u?(u.getState()!=3&&tUV(u)==0||u.getState(),N.G.connect(h,O,N.eS,u.X,u.y8)):D?N.G.connect(h,O,N.eS,D.sessionId,D.arrayId):N.G.connect(h,O,N.eS)},WZm=function(N,h){return N.rq?!0:N.Rr?Object.values(SuS).includes(h):N.AQ?!Object.values(Hex).includes(h):N.nC?Object.values(TCn).includes(h):!1},X0S=async function(N){try{await jL(N)}finally{var h=N.U;
N.U=[];var O=h;h=h.length;for(let u=0;u<h;++u)eL(N.G,O[u]);SL(N);SL(N)}},SL=function(N){N.publish("handlerOpened");
N.jS.G("BROWSER_CHANNEL")},sm=function(N){if(N.G){const h=N.WB(),O=N.G.j7||{};
h?O["x-youtube-lounge-xsrf-token"]=h:delete O["x-youtube-lounge-xsrf-token"];N.G.j7=O}},jL=function(N){if(N.JQ)return g.Nm();
if(!N.KC)return fVm(N);N.fC===null&&(N.fC=fVm(N));return N.fC},fVm=function(N){return g.Gx(N.TO().then(h=>{YuV(N,h)}).QV(()=>{}),()=>{N.fC=null})},YuV=function(N,h){if(N.G){let O=N.G.j7||{};
h&&Object.keys(h).length>0?O={...O,...h}:delete O.Authorization;N.G.j7=O}},J_=function(N){N.XA&&!N.T&&YuV(N,N.XA())},Hl=function(N){this.scheme="https";
this.port=this.domain="";this.G="/api/lounge";this.W=!0;N=N||document.location.href;const h=Number(g.Eu(N)[4]||null)||"";h&&(this.port=":"+h);this.domain=g.ag(N)||"";N=g.LZ();N.search("MSIE")>=0&&(N=N.match(/MSIE ([\d.]+)/)[1],g.QU(N,"10.0")<0&&(this.W=!1))},T7=function(N,h){let O=N.G;
N.W&&(O=N.scheme+"://"+N.domain+N.port+N.G);return g.XY(O+h,{})},lVR=function(N){g.MZ(N.channel,"m",()=>{N.O=3;
N.U.reset();N.N=null;N.V=0;for(const h of N.D)N.channel&&N.channel.send(h);N.D=[];N.publish("webChannelOpened");N.TO.G("WEB_CHANNEL")});
g.MZ(N.channel,"n",()=>{N.O=0;N.U.isActive()||N.publish("webChannelClosed");const h=N.channel?.X().U();h&&(N.D=[...h]);N.fC.G("WEB_CHANNEL")});
g.MZ(N.channel,"p",h=>{const O=h.data;O[0]==="gracefulReconnect"?(N.U.start(),N.channel&&N.channel.close()):N.publish("webChannelMessage",new E95(O[0],O[1]));N.jo=h.statusCode;N.XA.G("WEB_CHANNEL")});
g.MZ(N.channel,"o",()=>{N.jo===401||N.U.start();N.publish("webChannelError");N.WB.G("WEB_CHANNEL","")})},Wl=function(N){const h=N.Qm();
h?N.X["x-youtube-lounge-xsrf-token"]=h:delete N.X["x-youtube-lounge-xsrf-token"]},ZeR=function(N,h,O=()=>"",u,D){const U=()=>new rN(T7(N,"/bc"),h,!1,O,u);
return g.NL("enable_mdx_web_channel_desktop")?new xb4(()=>new n9R(T7(N,"/wc"),h,O)):new FZK(U,D)},ObK=function(){var N=kD5;
NrV();Xf.push(N);hh5()},f8=function(N,h){NrV();
const O=u6Y(N,String(h));Xf.length==0?D2o(O):(hh5(),g.So(Xf,function(u){u(O)}))},YB=function(N){f8("CP",N)},NrV=function(){Xf||(Xf=g.vR("yt.mdx.remote.debug.handlers_")||[],g.zZ("yt.mdx.remote.debug.handlers_",Xf))},D2o=function(N){const h=(l1+1)%50;
l1=h;xB[h]=N;n8||(n8=h==49)},hh5=function(){var N=Xf;
if(xB[0]){var h=n8?l1:-1;do{h=(h+1)%50;const O=xB[h];g.So(N,function(u){u(O)})}while(h!=l1);
xB=Array(50);l1=-1;n8=!1}},u6Y=function(N,h){let O=(Date.now()-U25)/1E3;
O.toFixed&&(O=O.toFixed(3));const u=[];u.push("[",O+"s","] ");u.push("[","yt.mdx.remote","] ");u.push(N+": "+h,"\n");return u.join("")},Ff=function(N){g.yQ.call(this);
this.O=N;this.screens=[]},d2V=function(N,h){const O=N.get(h.uuid)||N.get(h.id);
if(O)return N=O.name,O.id=h.id||O.id,O.name=h.name,O.token=h.token,O.uuid=h.uuid||O.uuid,O.name!=N;N.screens.push(h);return!0},G2K=function(N,h){let O=N.screens.length!=h.length;
N.screens=g.HR(N.screens,function(D){return!!Kf(h,D)});
const u=h.length;for(let D=0;D<u;D++)O=d2V(N,h[D])||O;return O},bbo=function(N,h){const O=N.screens.length;
N.screens=g.HR(N.screens,function(u){return!(u||h?!u!=!h?0:u.id==h.id:1)});
return N.screens.length<O},kB=function(N){Ff.call(this,"LocalScreenService");
this.W=N;this.G=NaN;Z_(this);this.info("Initializing with "+vf(this.screens))},ibx=function(N){if(N.screens.length){const h=g.TZ(N.screens,function(u){return u.id}),O=T7(N.W,"/pairing/get_lounge_token_batch");
N.W.sendRequest("POST",O,{screen_ids:h.join(",")},(0,g.Vy)(N.JA,N),(0,g.Vy)(N.zC,N))}},Z_=function(N){if(g.NL("deprecate_pair_servlet_enabled"))return G2K(N,[]);
var h=uWn(iMS());h=g.HR(h,function(O){return!O.uuid});
return G2K(N,h)},NO=function(N,h){CvS(g.TZ(N.screens,ho5));
h&&BhV()},hN=function(N){f8("OnlineScreenService",N)},OV=function(N){isNaN(N.U)||g.F$(N.U);
N.U=g.xT((0,g.Vy)(N.V,N),N.X>0&&N.X<g.Mt()?2E4:1E4)},uE=function(N,h){a:if(bJ(h)!=bJ(N.G))var O=!1;
else{O=g.Ho(h);var u=O.length;for(let D=0;D<u;++D)if(!N.G[O[D]]){O=!1;break a}O=!0}O||(hN("Updated online screens: "+g.a9(N.G)),N.G=h,N.publish("screenChange"));BrV(N)},Ds=function(N,h,O){const u=T7(N.T,"/pairing/get_screen_availability");
N.T.sendRequest("POST",u,{lounge_token:h.token},(0,g.Vy)(function(D){D=D.screens||[];const U=D.length;for(let d=0;d<U;++d)if(D[d].loungeToken==h.token){O(D[d].status=="online");return}O(!1)},N),(0,g.Vy)(function(){O(!1)},N))},BrV=function(N){N=g.Ho(g.ER(N.G,function(h){return h}));
g.V4(N);N.length?g.V6("yt-remote-online-screen-ids",N.join(","),60):g.PJ("yt-remote-online-screen-ids")},CKx=function(N){const h={};
g.So(N.O(),function(O){O.token?h[O.token]=O.id:this.Ih("Requesting availability of screen w/o lounge token.")});
return h},UV=function(N,h=!1){Ff.call(this,"ScreenService");
this.X=N;this.V=h;this.G=this.W=null;this.U=[];this.T={};Ap4(this)},Qu4=function(N,h,O,u,D,U){N.info("getAutomaticScreenByIds "+O+" / "+h);
O||(O=N.T[h]);const d=N.YM();let G=O?mL(d,O):null;O&&(N.V||G)||(G=mL(d,h));if(G){G.uuid=h;const b=d$(N,G);Ds(N.G,b,function(B){D(B?b:null)})}else O?odo(N,O,(0,g.Vy)(function(b){const B=d$(this,new Qw({name:u,
screenId:O,loungeToken:b,dialId:h||""}));Ds(this.G,B,function(C){D(C?B:null)})},N),U):D(null)},Lwo=function(N,h){const O=N.screens.length;
for(let u=0;u<O;++u)if(N.screens[u].name==h)return N.screens[u];return null},zhj=function(N,h,O){Ds(N.G,h,O)},odo=function(N,h,O,u){N.info("requestLoungeToken_ for "+h);
const D={postParams:{screen_ids:h},method:"POST",context:N,onSuccess:function(U,d){U=d&&d.screens||[];U[0]&&U[0].screenId==h?O(U[0].loungeToken):u(Error("Missing lounge token in token response"))},
onError:function(){u(Error("Request screen lounge token failed"))}};
g.dc(T7(N.X,"/pairing/get_lounge_token_batch"),D)},vd5=function(N){N.screens=N.W.YM();
var h=N.T;const O={};for(var u in h)O[h[u]]=u;h=N.screens.length;for(u=0;u<h;++u){const D=N.screens[u];D.uuid=O[D.id]||""}N.info("Updated manual screens: "+vf(N.screens))},Ap4=function(N){G$(N);
N.W=new kB(N.X);N.W.subscribe("screenChange",(0,g.Vy)(N.Kf,N));vd5(N);N.V||(N.U=uWn(g.RW("yt-remote-automatic-screen-cache")||[]));G$(N);N.info("Initializing automatic screens: "+vf(N.U));N.G=new wpK(N.X,(0,g.Vy)(N.YM,N,!0));N.G.subscribe("screenChange",(0,g.Vy)(function(){this.publish("onlineScreenChange")},N))},d$=function(N,h){var O=N.get(h.id);
O?(O.uuid=h.uuid,h=O):((O=mL(N.U,h.uuid))?(O.id=h.id,O.token=h.token,h=O):N.U.push(h),N.V||KwR(N));G$(N);N.T[h.uuid]=h.id;g.V6("yt-remote-device-id-map",N.T,31536E3);return h},KwR=function(N){N=g.HR(N.U,h=>h.idType!="shortLived");
g.V6("yt-remote-automatic-screen-cache",g.TZ(N,ho5))},G$=function(N){N.T=g.RW("yt-remote-device-id-map")||{}},bE=function(N,h,O){g.yQ.call(this);
this.WB=O;this.X=N;this.W=h;this.G=null},iE=function(N,h){N.G=h;
N.publish("sessionScreen",N.G)},m25=function(N,h){N.G&&(N.G.token=h,d$(N.X,N.G));
N.publish("sessionScreen",N.G)},BM=function(N,h){f8(N.WB,h)},tSY=function(N,h){g.F$(N.eS);
N.eS=0;h?N.config_.enableCastLoungeToken&&h.loungeToken?h.deviceId?N.G&&N.G.uuid==h.deviceId||(h.loungeTokenRefreshIntervalMs?IyR(N,{name:N.W.friendlyName,screenId:h.screenId,loungeToken:h.loungeToken,dialId:h.deviceId,screenIdType:"shortLived"},h.loungeTokenRefreshIntervalMs):(g.yG(Error(`No loungeTokenRefreshIntervalMs presents in mdxSessionStatusData: ${JSON.stringify(h)}.`)),Cu(N,h.screenId))):(g.yG(Error(`No device id presents in mdxSessionStatusData: ${JSON.stringify(h)}.`)),Cu(N,h.screenId)):
Cu(N,h.screenId):N.zE(Error("Waiting for session status timed out."))},$2j=function(N){g.F$(N.J);
N.J=0;g.F$(N.V);N.V=0;g.F$(N.eS);N.eS=0;g.F$(N.T);N.T=0;g.F$(N.N);N.N=0},yp5=function(N,h){N.info("sendYoutubeMessage_: "+h+" "+g.a9());
const O={};O.type=h;N.U?N.U.sendMessage("urn:x-cast:com.google.youtube.mdx",O,()=>{},(0,g.Vy)(function(){BM(this,"Failed to send message: "+h+".")},N)):BM(N,"Sending yt message without session: "+g.a9(O))},Rhm=function(N){yp5(N,"getLoungeToken");
g.F$(N.T);N.T=g.xT(()=>{VSV(N,null)},3E4)},AN=function(N,h){g.F$(N.N);
N.N=0;h==0?Rhm(N):N.N=g.xT(()=>{Rhm(N)},h)},VSV=function(N,h){g.F$(N.T);
N.T=0;let O=null;h?h.loungeToken?N.G?.token==h.loungeToken&&(O="staleLoungeToken"):O="missingLoungeToken":O="noLoungeTokenResponse";O?(N.info("Did not receive a new lounge token in onLoungeToken_ with "+`data: ${JSON.stringify(h)}, error: ${O}`),AN(N,3E4)):(m25(N,h.loungeToken),AN(N,h.loungeTokenRefreshIntervalMs))},Cu=function(N,h){h?(N.info("onConnectedScreenId_: Received screenId: "+h),N.G&&N.G.id==h||N.XA(h,O=>{iE(N,O)},()=>N.zE(),5)):N.zE(Error("Waiting for session status timed out."))},PKY=
function(N,h,O,u){g.F$(N.V);
N.V=0;zhj(N.X,h,D=>{D||u<0?O(D):N.V=g.xT(()=>{PKY(N,h,O,u-1)},300)})},IyR=function(N,h,O){N.info(`onConnectedScreenData_: Received screenData: ${JSON.stringify(h)}`);
const u=new Qw(h);PKY(N,u,D=>{D?(d$(N.X,u),iE(N,u),AN(N,O)):(g.yG(Error(`CastSession, RemoteScreen from screenData: ${JSON.stringify(h)} is not online.`)),N.zE())},5)},o2=function(N){return new Promise(h=>{N.Qm=wL();
if(N.TO){const O=new chrome.cast.DialLaunchResponse(!0,MSm(N));h(O);ppY(N)}else N.D=()=>{g.F$(N.eS);N.D=()=>{};
N.eS=NaN;const O=new chrome.cast.DialLaunchResponse(!0,MSm(N));h(O);ppY(N)},N.eS=g.xT(()=>{N.D()},100)})},eh5=function(N){g.F$(N.V);
N.V=0;g.F$(N.N);N.N=0;N.T();N.T=()=>{};
g.F$(N.eS)},QW=function(N){return!(!N.config_.enableDialLoungeToken||!N.U?.getDialAppInfo)},Lu=function(N,h){N.info(`getDialAppInfoWithTimeout_ ${h}`);
QW(N)&&(g.F$(N.N),N.N=0,h==0?Edj(N):N.N=g.xT(()=>{Edj(N)},h))},ppY=function(N){N.T=N.X.HQ(N.Qm,N.W.label,N.W.friendlyName,QW(N),(h,O)=>{N.T=()=>{};
iE(N,h);h.idType=="shortLived"&&O>0&&Lu(N,O)},h=>{N.T=()=>{};
N.zE(h)})},MSm=function(N){var h={};
h.pairingCode=N.Qm;h.theme=N.M5;o0j()&&(h.env_useStageMdx=1);return g.W0(h)},cpS=function(N,h){const O=N.J.receiver.label,u=N.W.friendlyName;
return(new Promise(D=>{Qu4(N.X,O,h,u,U=>{U&&U.token&&iE(N,U);D(U)},U=>{BM(N,"Failed to get DIAL screen: "+U);
D(null)})})).then(D=>D&&D.token?new chrome.cast.DialLaunchResponse(!1):o2(N))},qbr=function(N,h,O){N.info(`initOnConnectedScreenDataPromise_: Received screenData: ${JSON.stringify(h)}`);
const u=new Qw(h);return(new Promise(D=>{ayo(N,u,U=>{U?(d$(N.X,u),iE(N,u),Lu(N,O)):g.yG(Error(`DialSession, RemoteScreen from screenData: ${JSON.stringify(h)} is not online.`));D(U)},5)})).then(D=>D?new chrome.cast.DialLaunchResponse(!1):o2(N))},ayo=function(N,h,O,u){g.F$(N.V);
N.V=0;zhj(N.X,h,D=>{D||u<0?O(D):N.V=g.xT(()=>{ayo(N,h,O,u-1)},300)})},Edj=function(N){QW(N)&&N.U.getDialAppInfo(h=>{N.info(`getDialAppInfo dialLaunchData: ${JSON.stringify(h)}`);
h=h.extraData||{};let O=null;h.loungeToken?N.G?.token==h.loungeToken&&(O="staleLoungeToken"):O="missingLoungeToken";O?Lu(N,3E4):(m25(N,h.loungeToken),Lu(N,h.loungeTokenRefreshIntervalMs))},h=>{N.info(`getDialAppInfo error: ${h}`);
Lu(N,3E4)})},kD5=function(N){window.chrome&&chrome.cast&&chrome.cast.logMessage&&chrome.cast.logMessage(N)},rpS=function(N){const h=N.W.sQ();
let O=N.G&&N.G.W;N=g.TZ(h,function(u){O&&Lf(u,O.label)&&(O=null);const D=u.uuid?u.uuid:u.id;let U=gdS(this,u);U?(U.label=D,U.friendlyName=u.name):(U=new chrome.cast.Receiver(D,u.name),U.receiverType=chrome.cast.ReceiverType.CUSTOM);return U},N);
O&&(O.receiverType!=chrome.cast.ReceiverType.CUSTOM&&(O=new chrome.cast.Receiver(O.label,O.friendlyName),O.receiverType=chrome.cast.ReceiverType.CUSTOM),N.push(O));return N},z$=function(N){return N.N||!!N.U.length||!!N.G},vM=function(N){f8("Controller",N)},w$=function(N,h,O){h!=N.G&&(g.M2(N.G),(N.G=h)?(O?N.publish("yt-remote-cast2-receiver-resumed",h.W):N.publish("yt-remote-cast2-receiver-selected",h.W),h.subscribe("sessionScreen",(0,g.Vy)(N.eS,N,h)),h.subscribe("sessionFailed",()=>sur(N,h)),h.G?
N.publish("yt-remote-cast2-session-change",h.G):O&&N.G.O(null)):N.publish("yt-remote-cast2-session-change",null))},gdS=function(N,h){return h?g.xp(N.U,function(O){return Lf(h,O.label)},N):null},sur=function(N,h){N.G==h&&N.publish("yt-remote-cast2-session-failed")},WwK=function(N,h,O,u){u.disableCastApi?Ku("Cannot initialize because disabled by Mdx config."):Jpx()?juY(h,u)&&(m3(!0),window.chrome&&chrome.cast&&chrome.cast.isAvailable?SbK(N,O):(window.__onGCastApiAvailable=function(D,U){D?SbK(N,O):(I2("Failed to load cast API: "+
U),tN(!1),m3(!1),g.PJ("yt-remote-cast-available"),g.PJ("yt-remote-cast-receiver"),HbY(),O(!1))},u.loadCastApiSetupScript?g.aR(TrR):window.navigator.userAgent.indexOf("Android")>=0&&window.navigator.userAgent.indexOf("Chrome/")>=0&&window.navigator.presentation?eF()>=60&&Ipr():!window.chrome||!window.navigator.presentation||window.navigator.userAgent.indexOf("Edge")>=0?cf():eF()>=89?$1r():(aM(),E6(twm.map(wnY))))):Ku("Cannot initialize because not running Chrome")},HbY=function(){Ku("dispose");
const N=$M();N&&N.dispose();g.zZ("yt.mdx.remote.cloudview.instance_",null);XpV(!1);g.Ex(yW);yW.length=0},VW=function(){return!!g.RW("yt-remote-cast-installed")},fyx=function(){const N=g.RW("yt-remote-cast-receiver");
return N?N.friendlyName:null},YbY=function(){Ku("clearCurrentReceiver");
g.PJ("yt-remote-cast-receiver")},lyY=function(){return VW()?$M()?$M().getCastSession():(I2("getCastSelector: Cast is not initialized."),null):(I2("getCastSelector: Cast API is not installed!"),null)},PM=function(){VW()?$M()?R2()?(Ku("Requesting cast selector."),$M().requestSession()):(Ku("Wait for cast API to be ready to request the session."),yW.push(g.eJ("yt-remote-cast2-api-ready",PM))):I2("requestCastSelector: Cast is not initialized."):I2("requestCastSelector: Cast API is not installed!")},MO=
function(N,h){R2()?$M().setConnectedScreenStatus(N,h):I2("setConnectedScreenStatus called before ready.")},Jpx=function(){var N=g.LZ().search(/ (CrMo|Chrome|CriOS)\//)>=0;
return g.dR||N},x2R=function(N,h){$M().init(N,h)},juY=function(N,h){let O=!1;
$M()||(N=new pu(N,h),N.subscribe("yt-remote-cast2-availability-change",function(u){g.V6("yt-remote-cast-available",u);Pf("yt-remote-cast2-availability-change",u)}),N.subscribe("yt-remote-cast2-receiver-selected",function(u){Ku("onReceiverSelected: "+u.friendlyName);
g.V6("yt-remote-cast-receiver",u);Pf("yt-remote-cast2-receiver-selected",u)}),N.subscribe("yt-remote-cast2-receiver-resumed",function(u){Ku("onReceiverResumed: "+u.friendlyName);
g.V6("yt-remote-cast-receiver",u);Pf("yt-remote-cast2-receiver-resumed",u)}),N.subscribe("yt-remote-cast2-session-change",function(u){Ku("onSessionChange: "+zr(u));
u||g.PJ("yt-remote-cast-receiver");Pf("yt-remote-cast2-session-change",u)}),g.zZ("yt.mdx.remote.cloudview.instance_",N),O=!0);
Ku("cloudview.createSingleton_: "+O);return O},$M=function(){return g.vR("yt.mdx.remote.cloudview.instance_")},SbK=function(N,h){tN(!0);
m3(!1);x2R(N,function(O){O?(XpV(!0),g.cg("yt-remote-cast2-api-ready")):(I2("Failed to initialize cast API."),tN(!1),g.PJ("yt-remote-cast-available"),g.PJ("yt-remote-cast-receiver"),HbY());h(O)})},Ku=function(N){f8("cloudview",N)},I2=function(N){f8("cloudview",N)},tN=function(N){Ku("setCastInstalled_ "+N);
g.V6("yt-remote-cast-installed",N)},R2=function(){return!!g.vR("yt.mdx.remote.cloudview.apiReady_")},XpV=function(N){Ku("setApiReady_ "+N);
g.zZ("yt.mdx.remote.cloudview.apiReady_",N)},m3=function(N){g.zZ("yt.mdx.remote.cloudview.initializing_",N)},eO=function(N){this.index=-1;
this.videoId=this.listId="";this.volume=this.playerState=-1;this.muted=!1;this.audioTrackId=null;this.T=this.O=0;this.trackData=null;this.yY=this.v9=!1;this.N=this.U=this.V=this.W=0;this.G=NaN;this.X=!1;this.reset(N)},EV=function(N){N.audioTrackId=null;
N.trackData=null;N.playerState=-1;N.v9=!1;N.yY=!1;N.O=0;N.T=g.Mt();N.W=0;N.V=0;N.U=0;N.N=0;N.G=NaN;N.X=!1},cM=function(N){return N.isPlaying()?(g.Mt()-N.T)/1E3:0},a2=function(N,h){N.O=h;
N.T=g.Mt()},qO=function(N){switch(N.playerState){case 1:case 1081:return(g.Mt()-N.T)/1E3+N.O;
case -1E3:return 0}return N.O},ndm=function(N){return N.X?N.V+cM(N):N.V},g$=function(N,h,O){const u=N.videoId;
N.videoId=h;N.index=O;h!=u&&EV(N)},r$=function(N){const h={};
h.index=N.index;h.listId=N.listId;h.videoId=N.videoId;h.playerState=N.playerState;h.volume=N.volume;h.muted=N.muted;h.audioTrackId=N.audioTrackId;h.trackData=g.kY(N.trackData);h.hasPrevious=N.v9;h.hasNext=N.yY;h.playerTime=N.O;h.playerTimeAt=N.T;h.seekableStart=N.W;h.seekableEnd=N.V;h.duration=N.U;h.loadedTime=N.N;h.liveIngestionTime=N.G;return h},Fwx=function(N){g.So("nowAutoplaying autoplayDismissed remotePlayerChange remoteQueueChange autoplayModeChange autoplayUpNext previousNextChange multiStateLoopEnabled loopModeChange".split(" "),
function(h){this.V.push(this.X.subscribe(h,g.Re(this.l0,h),this))},N)},sV=function(N,h){N.W&&(N.W.removeUpdateListener(N.D),N.W.removeMediaListener(N.J),N.O(null));
N.W=h;N.W&&(YB("Setting cast session: "+N.W.sessionId),N.W.addUpdateListener(N.D),N.W.addMediaListener(N.J),N.W.media.length&&N.O(N.W.media[0]))},JN=function(N){return new eO(N.X.getPlayerContextData())},jO=function(N){return N.getState()==1},HM=function(N,h,O){return(0,g.Vy)(function(u){this.Ih("Failed to "+h+" with cast v2 channel. Error code: "+u.code);
u.code!=chrome.cast.ErrorCode.TIMEOUT&&(this.Ih("Retrying "+h+" using MDx browser channel."),SO(this,h,O))},N)},SO=function(N,h,O){N.X.sendMessage(h,O)},WM=function(N,h,O){const u=JN(N);
a2(u,O);u.playerState!=-1E3&&(u.playerState=h);T$(N,u)},XH=function(N,h){var O=N.T;
O.G.length+O.W.length<50&&N.T.enqueue(h)},T$=function(N,h){ZbV(N);
N.X.setPlayerContextData(r$(h));Fwx(N)},ZbV=function(N){g.So(N.V,function(h){this.X.unsubscribeByKey(h)},N);
N.V.length=0},k2R=function(N){const h=N.G.media,O=N.G.customData;
if(h&&O){var u=JN(N);h.contentId!=u.videoId&&YB("Cast changing video to: "+h.contentId);u.videoId=h.contentId;u.playerState=O.playerState;a2(u,N.G.getEstimatedTime());T$(N,u)}else YB("No cast media video. Ignoring state update.")},Np4=function(N){fu("Channel opened");
N.XA&&(N.XA=!1,YM(N),N.WB=g.xT(()=>{fu("Timing out waiting for a screen.");N.V(1)},15E3))},AXS=function(N,h){h=h.message;
h.params?fu("Received: action="+h.action+", params="+g.a9(h.params)):fu("Received: action="+h.action+" {}");switch(h.action){case "loungeStatus":h=iJ(h.params.devices);N.U=g.TZ(h,function(u){return new oM(u)});
h=!!g.xp(N.U,function(u){return u.type=="LOUNGE_SCREEN"});
hin(N,h);h=N.FA("mlm");N.publish("multiStateLoopEnabled",h);break;case "loungeScreenDisconnected":g.CS(N.U,function(u){return u.type=="LOUNGE_SCREEN"});
hin(N,!1);break;case "remoteConnected":let O=new oM(iJ(h.params.device));g.xp(N.U,function(u){return u.equals(O)})||XPj(N.U,O);
break;case "remoteDisconnected":O=new oM(iJ(h.params.device));g.CS(N.U,function(u){return u.equals(O)});
break;case "gracefulDisconnect":break;case "playlistModified":OUV(N,h,"QUEUE_MODIFIED");break;case "nowPlaying":uoo(N,h);break;case "onStateChange":DfY(N,h);break;case "onAdStateChange":Ufo(N,h);break;case "onVolumeChanged":dfY(N,h);break;case "onSubtitlesTrackChanged":Gvx(N,h);break;case "nowAutoplaying":bUx(N,h);break;case "autoplayDismissed":N.publish("autoplayDismissed");break;case "autoplayUpNext":iUS(N,h);break;case "onAutoplayModeChanged":BpS(N,h);break;case "onHasPreviousNextChanged":CBY(N,
h);break;case "requestAssistedSignIn":N.publish("assistedSignInRequested",h.params.authCode);break;case "onLoopModeChanged":N.publish("loopModeChange",h.params.loopMode);break;default:fu("Unrecognized action: "+h.action)}},fu=function(N){f8("conn",N)},oxV=function(N){N.O=g.xT(()=>{fu("Connecting timeout");
N.V(1)},2E4)},lE=function(N,h){N.publish("proxyStateChange",h)},xM=function(N){g.F$(N.O);
N.O=NaN},nu=function(N){g.F$(N.fC);
N.fC=NaN},YM=function(N){g.F$(N.WB);
N.WB=NaN},QzK=function(N){return g.xp(N.U,function(h){return h.type=="LOUNGE_SCREEN"})},FH=function(N,h,O){O?fu("Sending: action="+h+", params="+g.a9(O)):fu("Sending: action="+h);
N.W.sendMessage(h,O)},L_5=function(N){nu(N);
N.fC=g.xT(()=>{FH(N,"getNowPlaying")},2E4)},zir=function(N){g.F$(N.D);
N.D=g.xT(()=>{N.V(1)},864E5)},hin=function(N,h){var O=null;
if(h){const u=QzK(N);u&&(O={clientName:u.clientName,deviceMake:u.brand,deviceModel:u.model,osVersion:u.osVersion})}g.zZ("yt.mdx.remote.remoteClient_",O);h&&(xM(N),YM(N));O=N.W.TJ()&&isNaN(N.O);h==O?h&&(lE(N,1),FH(N,"getSubtitlesTrack")):h?(N.tQ()&&N.G.reset(),lE(N,1),FH(N,"getNowPlaying"),zir(N)):N.V(1)},Gvx=function(N,h){const O=h.params.videoId;
delete h.params.videoId;O==N.G.videoId&&(g.YY(h.params)?N.G.trackData=null:N.G.trackData=h.params,N.publish("remotePlayerChange"))},OUV=function(N,h,O){const u=h.params.videoId||h.params.video_id,D=parseInt(h.params.currentIndex,10);
N.G.listId=h.params.listId||N.G.listId;g$(N.G,u,D);N.publish("remoteQueueChange",O)},DfY=function(N,h){var O=parseInt(h.params.currentTime||h.params.current_time,10);
a2(N.G,isNaN(O)?0:O);O=parseInt(h.params.state,10);O=isNaN(O)?-1:O;O==-1&&N.G.playerState==-1E3&&(O=-1E3);N.G.playerState=O;O=Number(h.params.loadedTime);N.G.N=isNaN(O)?0:O;N.G.vE(Number(h.params.duration));O=N.G;var u=Number(h.params.liveIngestionTime);O.G=u;O.X=isNaN(u)?!1:!0;O=N.G;u=Number(h.params.seekableStartTime);h=Number(h.params.seekableEndTime);O.W=isNaN(u)?0:u;O.V=isNaN(h)?0:h;N.G.playerState==1?L_5(N):nu(N);N.publish("remotePlayerChange")},uoo=function(N,h){h.params=h.params||{};
OUV(N,h,"NOW_PLAYING_MAY_CHANGE");DfY(N,h);N.publish("autoplayDismissed")},Ufo=function(N,h){if(N.G.playerState!=-1E3){var O=1085;
switch(parseInt(h.params.adState,10)){case 1:O=1081;break;case 2:O=1084;break;case 0:O=1083}N.G.playerState=O;h=parseInt(h.params.currentTime,10);a2(N.G,isNaN(h)?0:h);N.publish("remotePlayerChange")}},dfY=function(N,h){const O=h.params.muted=="true";
N.G.volume=parseInt(h.params.volume,10);N.G.muted=O;N.publish("remotePlayerChange")},bUx=function(N,h){N.N=h.params.videoId;
N.publish("nowAutoplaying",parseInt(h.params.timeout,10))},iUS=function(N,h){N.N=h.params.videoId||null;
N.publish("autoplayUpNext",N.N)},BpS=function(N,h){N.T=h.params.autoplayMode;
N.publish("autoplayModeChange",N.T);N.T=="DISABLED"&&N.publish("autoplayDismissed")},CBY=function(N,h){const O=h.params.hasNext=="true";
N.G.v9=h.params.hasPrevious=="true";N.G.yY=O;N.publish("previousNextChange")},mfY=function(N,h){A34();
if(!RM||!RM.get("yt-remote-disable-remote-module-for-dev")){h=g.J("MDX_CONFIG")||h;U15();yw();Zs||(Zs=new Hl(h?h.loungeApiHost:void 0),o0j()&&(Zs.G="/api/loungedev"));kM||(kM=g.vR("yt.mdx.remote.deferredProxies_")||[],g.zZ("yt.mdx.remote.deferredProxies_",kM));vxS();var O=Nu();if(!O){const D=new UV(Zs,h?h.disableAutomaticScreenCache||!1:!1);g.zZ("yt.mdx.remote.screenService_",D);O=Nu();var u={};h&&(u={appId:h.appId,disableDial:h.disableDial,theme:h.theme,loadCastApiSetupScript:h.loadCastApiSetupScript,
disableCastApi:h.disableCastApi,enableDialLoungeToken:h.enableDialLoungeToken,enableCastLoungeToken:h.enableCastLoungeToken,forceMirroring:h.forceMirroring});g.zZ("yt.mdx.remote.enableConnectWithInitialState_",h?h.enableConnectWithInitialState||!1:!1);WwK(N,D,function(U){U?hP()&&MO(hP(),"YouTube TV"):D.subscribe("onlineScreenChange",function(){Pf("yt-remote-receiver-availability-change")})},u)}h&&!g.vR("yt.mdx.remote.initialized_")&&(g.zZ("yt.mdx.remote.initialized_",!0),Of("Initializing: "+g.a9(h)),
uk.push(g.eJ("yt-remote-cast2-api-ready",function(){Pf("yt-remote-api-ready")})),uk.push(g.eJ("yt-remote-cast2-availability-change",function(){Pf("yt-remote-receiver-availability-change")})),uk.push(g.eJ("yt-remote-cast2-receiver-selected",function(){DN(null);
Pf("yt-remote-auto-connect","cast-selector-receiver")})),uk.push(g.eJ("yt-remote-cast2-receiver-resumed",function(){Pf("yt-remote-receiver-resumed","cast-selector-receiver")})),uk.push(g.eJ("yt-remote-cast2-session-change",w7n)),uk.push(g.eJ("yt-remote-connection-change",function(D){D?MO(hP(),"YouTube TV"):Uf()||(MO(null,null),YbY())})),uk.push(g.eJ("yt-remote-cast2-session-failed",()=>{Pf("yt-remote-connection-failed")})),N=d6(),h.isAuto&&(N.id+="#dial"),u=h.capabilities||[],u.length>0&&(N.capabilities=
u),N.name=h.device,N.app=h.app,(h=h.theme)&&(N.theme=h),Of(" -- with channel params: "+g.a9(N)),N?(g.V6("yt-remote-session-app",N.app),g.V6("yt-remote-session-name",N.name)):(g.PJ("yt-remote-session-app"),g.PJ("yt-remote-session-name")),g.zZ("yt.mdx.remote.channelParams_",N),O.start(),hP()||K_Y())}},IgK=function(){var N=Nu().IN.$_gos();
const h=GG();h&&bk()&&(Kf(N,h)||N.push(h));return D1S(N)},ik=function(){let N=tKm();
!N&&VW()&&fyx()&&(N={key:"cast-selector-receiver",name:fyx()});return N},tKm=function(){const N=IgK();
let h=GG();h||(h=Uf());return g.xp(N,function(O){return h&&Lf(h,O.key)?!0:!1})},GG=function(){const N=hP();
if(!N)return null;const h=Nu().YM();return mL(h,N)},w7n=function(N){Of("remote.onCastSessionChange_: "+zr(N));
if(N){var h=GG();if(h&&h.id==N.id){if(MO(h.id,"YouTube TV"),N.idType=="shortLived"&&(N=N.token))BQ&&(BQ.token=N),(h=bk())&&h.HR(N)}else h&&CQ(),AP(N,1)}else bk()&&CQ()},CQ=function(){R2()?$M().stopSession():I2("stopSession called before API ready.");
const N=bk();N&&(N.disconnect(1),o1(null))},QX=function(){const N=bk();
return!!N&&N.getProxyState()!=3},Of=function(N){f8("remote",N)},Nu=function(){if(!LQ){const N=g.vR("yt.mdx.remote.screenService_");
LQ=N?new $fj(N):null}return LQ},hP=function(){return g.vR("yt.mdx.remote.currentScreenId_")},yXm=function(N){g.zZ("yt.mdx.remote.currentScreenId_",N)},VKn=function(){return g.vR("yt.mdx.remote.connectData_")},DN=function(N){g.zZ("yt.mdx.remote.connectData_",N)},bk=function(){return g.vR("yt.mdx.remote.connection_")},o1=function(N){const h=bk();
DN(null);N||yXm("");g.zZ("yt.mdx.remote.connection_",N);kM&&(g.So(kM,function(O){O(N)}),kM.length=0);
h&&!N?Pf("yt-remote-connection-change",!1):!h&&N&&Pf("yt-remote-connection-change",!0)},Uf=function(){const N=g.M$();
if(!N)return null;var h=Nu();if(!h)return null;h=h.YM();return mL(h,N)},AP=function(N,h){hP();
GG()&&GG();if(zG)BQ=N;else{yXm(N.id);var O=g.vR("yt.mdx.remote.enableConnectWithInitialState_")||!1;N=new vQ(N,O);N.connect(h,VKn());N.subscribe("beforeDisconnect",function(u){Pf("yt-remote-before-disconnect",u)});
N.subscribe("beforeDispose",function(){bk()&&(bk(),o1(null))});
N.subscribe("browserChannelAuthError",()=>{const u=GG();u&&u.idType=="shortLived"&&(R2()?$M().handleBrowserChannelAuthError():I2("refreshLoungeToken called before API ready."))});
o1(N)}},K_Y=function(){const N=Uf();
N?(Of("Resume connection to: "+zr(N)),AP(N,0)):(Vw(),YbY(),Of("Skipping connecting because no session screen found."))},vxS=function(){var N=d6();
if(g.YY(N)){N=$c();var h=g.RW("yt-remote-session-name")||"";const O=g.RW("yt-remote-session-app")||"";N={device:"REMOTE_CONTROL",id:N,name:h,app:O,mdxVersion:3};N.authuser=String(g.J("SESSION_INDEX","0"));(h=g.J("DELEGATED_SESSION_ID"))&&(N.pageId=String(h));g.zZ("yt.mdx.remote.channelParams_",N)}},d6=function(){return g.vR("yt.mdx.remote.channelParams_")||{}},Rix=function(N,h){if(w6(N)){N.ZT.unsubscribe("remotePlayerChange",N.T,N);
const O=Math.round(h.volume);h=!!h.muted;const u=JN(N.ZT);if(O!==u.volume||h!==u.muted)N.ZT.setVolume(O,h),N.D.start();N.ZT.subscribe("remotePlayerChange",N.T,N)}},w6=function(N){return JN(N.ZT).videoId===N.S.getVideoData(1).videoId},KQ=function(N,h){let O,u;
var D=N.S.getPlaylist();D?.listId&&(O=D.index,u=D.listId.toString());D=N.S.getVideoData(1);N.ZT.playVideo(D.videoId,h,O,u,D.playerParams,D.l0,WRS(D));N.yd(new g.D4(1))},m$=function(N,h){if(w6(N)&&!N.O){let O=null;
h&&(O={style:N.S.getSubtitlesUserSettings()},Object.assign(O,h));N.ZT.N(N.S.getVideoData(1).videoId,O);N.X=JN(N.ZT).trackData}},PBY=function(N,h){if(h){const O=N.S.getOption("captions","tracklist",{SG:1});
O&&O.length?(N.S.setOption("captions","track",h),N.O=!1):(N.S.loadModule("captions"),N.O=!0)}else N.S.setOption("captions","track",{})},MK4=function(N){N.hx(0);
N.W.stop();N.yd(new g.D4(64))},p7Y=function(N){const h=N.player.K();
return!h.j("mdx_enable_privacy_disclosure_ui")||N.isLoggedIn()||N.JE||!N.ac?!1:g.Te(h)||g.fG(h)},eiS=function(N,h,O){N.pg=O;
N.player.publish("presentingplayerstatechange",new g.wy(O,h))},I1=function(N,h,...O){N.loaded&&N.BE.LD(h,...O)},tP=function(N){N.z1&&(N.player.removeEventListener("presentingplayerstatechange",N.z1),N.z1=null)},$R=function(N,h){if(h.key!==N.oe.key)if(h.key===N.OU.key)CQ();
else if(p7Y(N)&&Exj(N),N.oe=h,!g.oi(N.player.K())){{const U=N.player.getPlaylistId();var O=N.player.getVideoData(1);const d=O.videoId;if(!U&&!d||(N.player.getAppState()===2||N.player.getAppState()===1)&&N.player.K().j("should_clear_video_data_on_player_cued_unstarted"))O=null;else{var u=N.player.getPlaylist();if(u){var D=[];for(let G=0;G<u.length;G++)D[G]=g.a6(u,G).videoId}else D=[d];u=N.player.getCurrentTime(1);N={videoIds:D,listId:U,videoId:d,playerParams:O.playerParams,clickTrackingParams:O.l0,
index:Math.max(N.player.getPlaylistIndex(),0),currentTime:u===0?void 0:u};(O=WRS(O))&&(N.locationInfo=O);O=N}}Of("Connecting to: "+g.a9(h));h.key=="cast-selector-receiver"?(DN(O||null),h=O||null,R2()?$M().setLaunchParams(h):I2("setLaunchParams called before ready.")):!O&&QX()&&hP()==h.key?Pf("yt-remote-connection-change",!0):(CQ(),DN(O||null),O=Nu().YM(),(h=mL(O,h.key))&&AP(h,1))}},Exj=function(N){N.player.getPlayerStateObject().isPlaying()?N.player.pauseVideo():(N.z1=h=>{!N.JE&&h.Dm(8)&&(N.player.pauseVideo(),
tP(N))},N.player.addEventListener("presentingplayerstatechange",N.z1));
N.ac&&N.ac.dU();bk()||(zG=!0)};
g.hc.prototype.qx=g.Oa(49,function(){this.app.Et().qx()});
g.aL.prototype.qx=g.Oa(48,function(){this.ai=null});
g.hc.prototype.sG=g.Oa(47,function(N){this.app.Et().sG(N)});
g.aL.prototype.sG=g.Oa(46,function(N){this.ai=N});
var cZY=class{constructor(){var N=pf();this.W=N;g.t0(N,"/client_streamz/youtube/living_room/mdx/channel/opened",g.jb("channel_type"))}G(N){g.yA(this.W,"/client_streamz/youtube/living_room/mdx/channel/opened",N)}},aVm=class{constructor(){var N=pf();this.W=N;g.t0(N,"/client_streamz/youtube/living_room/mdx/channel/closed",g.jb("channel_type"))}G(N){g.yA(this.W,"/client_streamz/youtube/living_room/mdx/channel/closed",N)}},g9j=class{constructor(){var N=pf();this.W=N;g.t0(N,"/client_streamz/youtube/living_room/mdx/channel/message_received",
g.jb("channel_type"))}G(N){g.yA(this.W,"/client_streamz/youtube/living_room/mdx/channel/message_received",N)}},qu4=class{constructor(){var N=pf();this.W=N;g.t0(N,"/client_streamz/youtube/living_room/mdx/channel/success")}G(){g.yA(this.W,"/client_streamz/youtube/living_room/mdx/channel/success")}},rZV=class{constructor(){var N=pf();this.W=N;g.t0(N,"/client_streamz/youtube/living_room/mdx/channel/error",g.jb("channel_type"),g.jb("error_type"))}G(N,h){g.yA(this.W,"/client_streamz/youtube/living_room/mdx/channel/error",
N,h)}},sgR=class{constructor(){var N=pf();this.W=N;g.t0(N,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps")}G(){g.yA(this.W,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps")}},JZn=class{constructor(){var N=pf();this.W=N;g.t0(N,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps")}G(){g.yA(this.W,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps")}};g.y=Cf.prototype;
g.y.ZB=function(){Ay(this);const N=[];for(let h=0;h<this.G.length;h++)N.push(this.W[this.G[h]]);return N};
g.y.y3=function(){Ay(this);return this.G.concat()};
g.y.has=function(N){return Bf(this.W,N)};
g.y.equals=function(N,h){if(this===N)return!0;if(this.size!=N.size)return!1;h=h||xBV;Ay(this);let O;for(let u=0;O=this.G[u];u++)if(!h(this.get(O),N.get(O)))return!1;return!0};
g.y.isEmpty=function(){return this.size==0};
g.y.clear=function(){this.W={};this.wx=this.size=this.G.length=0};
g.y.remove=function(N){return this.delete(N)};
g.y.delete=function(N){return Bf(this.W,N)?(delete this.W[N],--this.size,this.wx++,this.G.length>2*this.size&&Ay(this),!0):!1};
g.y.get=function(N,h){return Bf(this.W,N)?this.W[N]:h};
g.y.set=function(N,h){Bf(this.W,N)||(this.size+=1,this.G.push(N),this.wx++);this.W[N]=h};
g.y.forEach=function(N,h){const O=this.y3();for(let u=0;u<O.length;u++){const D=O[u],U=this.get(D);N.call(h,U,D,this)}};
g.y.clone=function(){return new Cf(this)};
g.y.keys=function(){return g.sU(this.Hb(!0)).G()};
g.y.values=function(){return g.sU(this.Hb(!1)).G()};
g.y.entries=function(){const N=this;return lQV(this.keys(),function(h){return[h,N.get(h)]})};
g.y.Hb=function(N){Ay(this);let h=0;const O=this.wx,u=this,D=new g.F6;D.next=function(){if(O!=u.wx)throw Error("The map has changed since the iterator was created");if(h>=u.G.length)return g.SG;const U=u.G[h++];return g.Zy(N?U:u.W[U])};
return D};
var k_j={w1:"atp",FT:"ska",AO:"que",SX:"mus",mH:"sus",PY:"dsp",e1:"seq",l9:"mic",ze:"dpa",tH:"mlm",xW:"dsdtr",gB:"ntb",lFm:"vsp",WY:"scn",cU:"rpe",Aj:"dcn",uO:"dcp",Y4:"pas",wS:"drq",wB:"opf",G_:"els",eW:"isg",Wp:"svq",FI:"mvp",AZ:"ads",g2:"stcp",vp:"sads",pV:"dloc",Z9:"dcw",c7:"asw",uh:"apw",iN:"pcw",dN:"ipv"},NhK={bC5:"u",va:"cl",cW:"k",q8:"i",Ha:"cr",Ov:"m",hq:"g",Z7:"up"},SuS={Lq:"adPlaying",Rm:"onAdStateChange"},Hex={Ro:"nowPlaying",n4:"onStateChange",Lq:"adPlaying",Rm:"onAdStateChange",Bd:"nowPlayingShorts",
Pd:"onShortsStateChange"},TCn={Bd:"nowPlayingShorts",Pd:"onShortsStateChange"};oM.prototype.equals=function(N){return N?this.id==N.id:!1};
var ty="",RM=null,Qk5=class extends g.PQo{constructor(){super()}},MW,m1x=LPo("loadCastFramework")||LPo("loadCastApplicationFramework"),twm=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","enhhojjnijigcajfphajepfemndkmdlo"];g.eo(qW,g.eS);g.y=qW.prototype;g.y.eN=function(N){this.X=arguments;this.G=!1;this.RO?this.U=g.Mt()+this.DY:this.RO=g.v8(this.T,this.DY)};
g.y.stop=function(){this.RO&&(g.oe.clearTimeout(this.RO),this.RO=null);this.U=null;this.G=!1;this.X=[]};
g.y.pause=function(){++this.W};
g.y.resume=function(){this.W&&(--this.W,!this.W&&this.G&&(this.G=!1,this.O.apply(null,this.X)))};
g.y.U3=function(){this.stop();qW.De.U3.call(this)};
g.y.GQ=function(){this.RO&&(g.oe.clearTimeout(this.RO),this.RO=null);this.U?(this.RO=g.v8(this.T,this.U-g.Mt()),this.U=null):this.W?this.G=!0:(this.G=!1,this.O.apply(null,this.X))};var G7=class{stringify(N){return g.oe.JSON.stringify(N,void 0)}parse(N){return g.oe.JSON.parse(N,void 0)}};g.eo(gL,g.Km);g.eo(rL,g.Km);var y3n=null;g.eo(Vwm,g.Km);g.eo(RoY,g.Km);g.eo(Pvm,g.Km);Hf.prototype.debug=function(){};
Hf.prototype.info=function(){};
Hf.prototype.warning=function(){};var apS={},lJ={};g.y=Tr.prototype;g.y.setTimeout=function(N){this.df=N};
g.y.Wd=function(N){N=N.target;const h=this.tQ;h&&g.fz(N)==3?h.X():this.WQ(N)};
g.y.WQ=function(N){try{if(N==this.G)a:{const D=g.fz(this.G),U=this.G.W,d=this.G.getStatus();if(!(D<3)&&(D!=3||this.G&&(this.W.U||g.xL(this.G)||g.nz(this.G)))){this.XA||D!=4||U==7||(U==8||d<=0?Jy(3):Jy(2));xc(this);var h=this.G.getStatus();this.nC=h;var O=c3V(this);if(this.O=h==200){if(this.JQ&&!this.l0){b:{if(this.G){const G=g.Zx(this.G,"X-HTTP-Initial-Response");if(G&&!g.bl(G)){var u=G;break b}}u=null}if(N=u)this.l0=!0,D_(this,N);else{this.O=!1;this.T=3;jF(12);ff(this);Yc(this);break a}}if(this.WB){N=
!0;let G;for(;!this.XA&&this.V<O.length;)if(G=q1x(this,O),G==lJ){D==4&&(this.T=4,jF(14),N=!1);break}else if(G==apS){this.T=4;jF(15);N=!1;break}else D_(this,G);E0V(this)&&this.V!=0&&(this.W.G=this.W.G.slice(this.V),this.V=0);D!=4||O.length!=0||this.W.U||(this.T=1,jF(16),N=!1);this.O=this.O&&N;N?O.length>0&&!this.E3&&(this.E3=!0,this.U.TI(this)):(ff(this),Yc(this))}else D_(this,O);D==4&&ff(this);this.O&&!this.XA&&(D==4?r3o(this.U,this):(this.O=!1,Xm(this)))}else g.Fi(this.G),h==400&&O.indexOf("Unknown SID")>
0?(this.T=3,jF(12)):(this.T=0,jF(13)),ff(this),Yc(this)}}}catch(D){}finally{}};
g.y.cancel=function(){this.XA=!0;ff(this)};
g.y.fh=function(){this.eS=null;const N=Date.now();N-this.Rr>=0?(this.M5!=2&&(Jy(3),jF(17)),ff(this),this.T=2,Yc(this)):g0V(this,this.Rr-N)};
g.y.getLastError=function(){return this.T};
g.y.wD=function(){return this.G};var cXr=class{constructor(N,h){this.G=N;this.map=h;this.context=null}};S1m.prototype.cancel=function(){this.U=Um(this);if(this.W)this.W.cancel(),this.W=null;else if(this.G&&this.G.size!==0){for(const N of this.G.values())N.cancel();this.G.clear()}};g.y=fpj.prototype;g.y.qj=8;g.y.ZL=1;g.y.connect=function(N,h,O,u){jF(0);this.rq=N;this.XA=h||{};O&&u!==void 0&&(this.XA.OSID=O,this.XA.OAID=u);this.l0=this.Wo;this.TO=skR(this,null,this.rq);u1(this)};
g.y.disconnect=function(){Y1x(this);if(this.ZL==3){var N=this.FA++,h=this.TO.clone();g.C7(h,"SID",this.X);g.C7(h,"RID",N);g.C7(h,"TYPE","terminate");Bl(this,h);N=new Tr(this,this.X,N);N.M5=2;N.N=dL(h.clone());h=!1;if(g.oe.navigator&&g.oe.navigator.sendBeacon)try{h=g.oe.navigator.sendBeacon(N.N.toString(),"")}catch{}!h&&g.oe.Image&&((new Image).src=N.N,h=!0);h||(N.G=eoK(N.U,null),N.G.send(N.N));N.Qm=Date.now();Xm(N)}kS4(this)};
g.y.Zg=function(){return this.ZL==0};
g.y.getState=function(){return this.ZL};
g.y.vQ=function(N){if(this.O)if(this.O=null,this.ZL==1){if(!N){this.FA=Math.floor(Math.random()*1E5);N=this.FA++;const D=new Tr(this,"",N);let U=this.J;this.JQ&&(U?(U=g.FV(U),g.hE(U,this.JQ)):U=this.JQ);this.V!==null||this.Rr||(D.TO=U,U=null);if(this.AQ)a:{var h=0;for(var O=0;O<this.U.length;O++){b:{var u=this.U[O];if("__data__"in u.map&&(u=u.map.__data__,typeof u==="string")){u=u.length;break b}u=void 0}if(u===void 0)break;h+=u;if(h>4096){h=O;break a}if(h===4096||O===this.U.length-1){h=O+1;break a}}h=
1E3}else h=1E3;h=n0S(this,D,h);O=this.TO.clone();g.C7(O,"RID",N);g.C7(O,"CVER",22);this.WB&&g.C7(O,"X-HTTP-Session-Id",this.WB);Bl(this,O);U&&(this.Rr?h="headers="+g.wY(g.vC(U))+"&"+h:this.V&&g.wf(O,this.V,U));Om(this.W,D);this.hI&&g.C7(O,"TYPE","init");this.AQ?(g.C7(O,"$req",h),g.C7(O,"SID","null"),D.JQ=!0,Wf(D,O,null)):Wf(D,O,h);this.ZL=2}}else this.ZL==3&&(N?FPo(this,N):this.U.length==0||HMS(this.W)||FPo(this))};
g.y.UQ=function(){this.N=null;ZM4(this);if(this.XF&&!(this.df||this.G==null||this.LF<=0)){var N=4*this.LF;this.fC=SF((0,g.Vy)(this.fQ,this),N)}};
g.y.fQ=function(){this.fC&&(this.fC=null,this.l0=!1,this.df=!0,jF(10),Zk(this),ZM4(this))};
g.y.TI=function(N){this.G==N&&this.XF&&!this.df&&(i1(this),this.df=!0,jF(11))};
g.y.q9=function(){this.eS!=null&&(this.eS=null,Zk(this),kc(this),jF(19))};
g.y.yf=function(N){N?jF(2):jF(1)};
g.y.isActive=function(){return!!this.T&&this.T.isActive(this)};
g.y=hwR.prototype;g.y.i7=function(){};
g.y.b7=function(){};
g.y.XE=function(){};
g.y.I3=function(){};
g.y.isActive=function(){return!0};
g.y.UT=function(){};g.eo(A_,g.jW);A_.prototype.open=function(){this.G.T=this.U;this.V&&(this.G.M5=!0);this.G.connect(this.O,this.W||void 0)};
A_.prototype.close=function(){this.G.disconnect()};
A_.prototype.send=function(N){var h=this.G;if(typeof N==="string"){var O={};O.__data__=N;N=O}else this.T&&(O={},O.__data__=g.a9(N),N=O);h.U.push(new cXr(h.WX++,N));h.ZL==3&&u1(h)};
A_.prototype.U3=function(){this.G.T=null;delete this.U;this.G.disconnect();delete this.G;A_.De.U3.call(this)};
g.eo(uYS,gL);g.eo(Db4,rL);g.eo(C8,hwR);C8.prototype.i7=function(){this.G.dispatchEvent("m")};
C8.prototype.b7=function(N){this.G.dispatchEvent(new uYS(N))};
C8.prototype.XE=function(N){this.G.dispatchEvent(new Db4(N))};
C8.prototype.I3=function(){this.G.dispatchEvent("n")};
A_.prototype.X=function(){return new o$(this,this.G)};
o$.prototype.W=function(){return N6(this.G.W)};
o$.prototype.U=function(){return NCS(this.G).map(N=>{var h=this.X;N=N.map;"__data__"in N?(N=N.__data__,h=h.T?fQV(N):N):h=N;return h})};
o$.prototype.commit=function(N){this.G.nC=N};var L8=new g.jW,UbY=class extends g.Km{constructor(){super("statevent",L8)}};g.y=vl.prototype;g.y.Qu=null;g.y.zN=!1;g.y.Y9=null;g.y.RM=null;g.y.I6=null;g.y.t3=null;g.y.qX=null;g.y.h3=null;g.y.yu=null;g.y.M1=null;g.y.SK=0;g.y.Rt=null;g.y.F7=null;g.y.Dv=null;g.y.vu=-1;g.y.Ap=!0;g.y.Ug=!1;g.y.gm=0;g.y.mV=null;var ben={},mg={};g.y=vl.prototype;g.y.setTimeout=function(N){this.W=N};
g.y.Xm=function(N){N=N.target;const h=this.mV;h&&g.fz(N)==3?h.X():this.l7(N)};
g.y.l7=function(N){try{if(N==this.M1)a:{const h=g.fz(this.M1),O=this.M1.W,u=this.M1.getStatus();if(g.wX&&!g.s3("420+")){if(h<4)break a}else if(h<3||h==3&&!g.xL(this.M1))break a;this.Ug||h!=4||O==7||(O==8||u<=0?this.G.oE(3):this.G.oE(2));CNS(this);const D=this.M1.getStatus();this.vu=D;const U=g.xL(this.M1);if(this.zN=D==200){h==4&&t_(this);if(this.WB){for(N=!0;!this.Ug&&this.SK<U.length;){const d=ie5(this,U);if(d==mg){h==4&&(this.Dv=4,z7(),N=!1);break}else if(d==ben){this.Dv=4;z7();N=!1;break}else AZo(this,
d)}h==4&&U.length==0&&(this.Dv=1,z7(),N=!1);this.zN=this.zN&&N;N||(t_(this),I$(this))}else AZo(this,U);this.zN&&!this.Ug&&(h==4?this.G.cO(this):(this.zN=!1,K8(this)))}else this.Dv=D==400&&U.indexOf("Unknown SID")>0?3:0,z7(),t_(this),I$(this)}}catch(h){}finally{}};
g.y.cancel=function(){this.Ug=!0;t_(this)};
g.y.Im=function(){this.Y9=null;const N=Date.now();N-this.RM>=0?(this.t3!=2&&this.G.oE(3),t_(this),this.Dv=2,z7(),I$(this)):BCK(this,this.RM-N)};
g.y.getLastError=function(){return this.Dv};g.y=LZ5.prototype;g.y.AC=null;g.y.wh=null;g.y.m2=!1;g.y.pA=null;g.y.s0=null;g.y.Ti=-1;g.y.OO=null;g.y.Xu=null;g.y.connect=function(N){this.pA=N;N=y2(this.G,null,this.pA);z7();Date.now();const h=this.G.J;h!=null?(this.OO=h[0],(this.Xu=h[1])?(this.s0=1,zwm(this)):(this.s0=2,R$(this))):(Gr(N,"MODE","init"),this.wh=new vl(this),this.wh.Qu=this.AC,wN(this.wh,N,!1,null,!0),this.s0=0)};
g.y.t1=function(N){if(N)this.s0=2,R$(this);else{z7();var h=this.G;h.Ve=h.G7.Ti;q6(h,9)}N&&this.oE(2)};
g.y.PO=function(N){return this.G.PO(N)};
g.y.abort=function(){this.wh&&(this.wh.cancel(),this.wh=null);this.Ti=-1};
g.y.Zg=function(){return!1};
g.y.Ts=function(N,h){this.Ti=N.vu;if(this.s0==0)if(h){try{var O=this.W.parse(h)}catch(u){N=this.G;N.Ve=this.Ti;q6(N,2);return}this.OO=O[0];this.Xu=O[1]}else N=this.G,N.Ve=this.Ti,q6(N,2);else this.s0==2&&(this.m2?(z7(),Date.now()):h=="11111"?(z7(),this.m2=!0,Date.now(),this.Ti=200,this.wh.cancel(),z7(),V2(this.G,this,!0)):(z7(),Date.now(),this.m2=!1))};
g.y.cO=function(){this.Ti=this.wh.vu;if(this.wh.zN)this.s0==0?this.Xu?(this.s0=1,zwm(this)):(this.s0=2,R$(this)):this.s0==2&&(this.m2?(z7(),V2(this.G,this,!0)):(z7(),V2(this.G,this,!1)));else{this.s0==0?z7():this.s0==2&&z7();var N=this.G;this.wh.getLastError();N.Ve=this.Ti;q6(N,2)}};
g.y.Xj=function(){return this.G.Xj()};
g.y.isActive=function(){return this.G.isActive()};
g.y.oE=function(N){this.G.oE(N)};g.y=Pl.prototype;g.y.j7=null;g.y.by=null;g.y.bl=null;g.y.yc=null;g.y.xj=null;g.y.sO=null;g.y.r0=null;g.y.wm=null;g.y.iy=0;g.y.iK=0;g.y.C7=null;g.y.JN=null;g.y.rg=null;g.y.GX=null;g.y.G7=null;g.y.m6=null;g.y.y8=-1;g.y.LB=-1;g.y.Ve=-1;g.y.Q8=0;g.y.k9=0;g.y.ew=8;var agY={OK:0,JO:2,oo:4,Pm:5,XB3:6,STOP:7,N9:8,Zu:9,nP:10,Jf:11,pO:12};g.eo(w05,g.Km);g.eo(KZR,g.Km);g.y=Pl.prototype;
g.y.connect=function(N,h,O,u,D){z7();this.xj=h;this.by=O||{};u&&D!==void 0&&(this.by.OSID=u,this.by.OAID=D);this.N?(Q2((0,g.Vy)(this.EN,this,N),100),mbm(this)):this.EN(N)};
g.y.disconnect=function(){IVR(this);if(this.G==3){var N=this.iy++;const h=this.sO.clone();g.C7(h,"SID",this.X);g.C7(h,"RID",N);g.C7(h,"TYPE","terminate");cl(this,h);N=new vl(this,this.X,N);N.t3=2;N.qX=dL(h.clone());(new Image).src=N.qX.toString();N.I6=Date.now();K8(N)}MU5(this)};
g.y.EN=function(N){this.G7=new LZ5(this);this.G7.AC=this.j7;this.G7.W=this.T;this.G7.connect(N)};
g.y.Zg=function(){return this.G==0};
g.y.getState=function(){return this.G};
g.y.md=function(N){this.JN=null;yZV(this,N)};
g.y.Mj=function(){this.rg=null;this.yc=new vl(this,this.X,"rpc",this.V);this.yc.Qu=this.j7;this.yc.gm=0;var N=this.r0.clone();g.C7(N,"RID","rpc");g.C7(N,"SID",this.X);g.C7(N,"CI",this.m6?"0":"1");g.C7(N,"AID",this.y8);cl(this,N);g.C7(N,"TYPE","xmlhttp");wN(this.yc,N,!0,this.wm,!1)};
g.y.Ts=function(N,h){if(this.G!=0&&(this.yc==N||this.bl==N))if(this.Ve=N.vu,this.bl==N&&this.G==3)if(this.ew>7){try{var O=this.T.parse(h)}catch(u){O=null}if(Array.isArray(O)&&O.length==3)if(N=O,N[0]==0)a:{if(!this.rg){if(this.yc)if(this.yc.I6+3E3<this.bl.I6)p8(this),this.yc.cancel(),this.yc=null;else break a;a$(this);z7()}}else this.LB=N[1],0<this.LB-this.y8&&N[2]<37500&&this.m6&&this.k9==0&&!this.GX&&(this.GX=Q2((0,g.Vy)(this.lK,this),6E3));else q6(this,11)}else h!="y2f%"&&q6(this,11);else if(this.yc==
N&&p8(this),!g.bl(h))for(N=this.T.parse(h),h=0;h<N.length;h++)O=N[h],this.y8=O[0],O=O[1],this.G==2?O[0]=="c"?(this.X=O[1],this.wm=O[2],O=O[3],O!=null?this.ew=O:this.ew=6,this.G=3,this.C7&&this.C7.FE(),this.r0=y2(this,this.Xj()?this.wm:null,this.xj),VUY(this)):O[0]=="stop"&&q6(this,7):this.G==3&&(O[0]=="stop"?q6(this,7):O[0]!="noop"&&this.C7&&this.C7.tK(O),this.k9=0)};
g.y.lK=function(){this.GX!=null&&(this.GX=null,this.yc.cancel(),this.yc=null,a$(this),z7())};
g.y.cO=function(N){if(this.yc==N){p8(this);this.yc=null;var h=2}else if(this.bl==N)this.bl=null,h=1;else return;this.Ve=N.vu;if(this.G!=0)if(N.zN)if(h==1){h=N.yu?N.yu.length:0;N=Date.now()-N.I6;var O=L8;O.dispatchEvent(new w05(O,h,N,this.Q8));M6(this);this.C7&&this.C7.Sa(this,this.U);this.U.length=0}else VUY(this);else{O=N.getLastError();var u;if(!(u=O==3||O==7||O==0&&this.Ve>0)){if(u=h==1)this.bl||this.JN||this.G==1||this.Q8>=2?u=!1:(this.JN=Q2((0,g.Vy)(this.md,this,N),Rw5(this,this.Q8)),this.Q8++,
u=!0);u=!(u||h==2&&a$(this))}if(u)switch(O){case 1:q6(this,5);break;case 4:q6(this,10);break;case 3:q6(this,6);break;case 7:q6(this,12);break;default:q6(this,2)}}};
g.y.bK=function(N){if(!g.Zd(arguments,this.G))throw Error("Unexpected channel state: "+this.G);};
g.y.Qf=function(N){N?z7():(z7(),PNx(this,8))};
g.y.PO=function(N){if(N)throw Error("Can't create secondary domain capable XhrIo object.");N=new g.jD;N.V=!1;return N};
g.y.isActive=function(){return!!this.C7&&this.C7.isActive(this)};
g.y.oE=function(N){const h=L8;h.dispatchEvent(new KZR(h,N))};
g.y.Xj=function(){return!1};
g.y=p05.prototype;g.y.FE=function(){};
g.y.tK=function(){};
g.y.Sa=function(){};
g.y.hK=function(){};
g.y.nA=function(){};
g.y.OQ=function(){return{}};
g.y.isActive=function(){return!0};g.y=ewS.prototype;g.y.enqueue=function(N){this.W.push(N)};
g.y.isEmpty=function(){return this.G.length===0&&this.W.length===0};
g.y.clear=function(){this.G=[];this.W=[]};
g.y.contains=function(N){return g.Zd(this.G,N)||g.Zd(this.W,N)};
g.y.remove=function(N){{var h=this.G;const O=Array.prototype.lastIndexOf.call(h,N,h.length-1);O>=0?(g.OR(h,O),h=!0):h=!1}return h||g.dn(this.W,N)};
g.y.ZB=function(){const N=[];for(var h=this.G.length-1;h>=0;--h)N.push(this.G[h]);h=this.W.length;for(let O=0;O<h;++O)N.push(this.W[O]);return N};var qt5=class extends g.Km{constructor(N){super("channelMessage");this.message=N}},gxS=class extends g.Km{constructor(N){super("channelError");this.error=N}};g.eo(gN,g.eS);g.y=gN.prototype;g.y.V0=function(){this.DY=Math.min(3E5,this.DY*2);this.U();this.W&&this.start()};
g.y.start=function(){const N=this.DY+15E3*Math.random();this.G.Vd(N);this.W=Date.now()+N};
g.y.stop=function(){this.G.stop();this.W=0};
g.y.isActive=function(){return this.G.isActive()};
g.y.reset=function(){this.G.stop();this.DY=5E3};g.eo(rN,p05);g.y=rN.prototype;g.y.subscribe=function(N,h,O){return this.O.subscribe(N,h,O)};
g.y.unsubscribe=function(N,h,O){return this.O.unsubscribe(N,h,O)};
g.y.Jy=function(N){return this.O.Jy(N)};
g.y.publish=function(N,h){return this.O.publish.apply(this.O,arguments)};
g.y.dispose=function(){this.V||(this.V=!0,g.M2(this.O),this.disconnect(),g.M2(this.W),this.W=null,this.WB=()=>"",this.TO=()=>g.Nm({}))};
g.y.s3=function(){return this.V};
g.y.connect=async function(N,h,O){try{this.T&&await this.X}finally{if(this.V||this.G&&this.G.getState()==2)return;this.Qm="";this.W.stop();this.J=N||null;this.N=h||0;const u=this.M5+"/test",D=this.M5+"/bind";N=new Pl(O?O.firstTestResults:null,O?O.secondTestResults:null,this.E3);const U=this.G;U&&(U.C7=null);N.C7=this;this.G=N;if(this.T)return this.X=jL(this).then(()=>jgV(this,u,D,U,O)),this.X.then(()=>{this.X=g.Nm()});
jgV(this,u,D,U,O)}};
g.y.disconnect=function(N){try{this.T&&(this.X.cancel(),this.X=g.Nm())}finally{this.D=N||0,this.W&&this.W.stop(),sm(this),this.G&&(this.G.getState()==3&&yZV(this.G),this.G.disconnect()),this.D=0}};
g.y.sendMessage=async function(N,h){try{this.T&&await this.X}finally{if(this.V)return;const O={_sc:N};h&&g.hE(O,h);if(this.W.isActive()||(this.G?this.G.getState():0)==2)this.U.push(O);else if(this.TJ())try{this.T&&!WZm(this,N)&&await jL(this)}finally{this.TJ()&&(WZm(this,N)||J_(this),sm(this),eL(this.G,O))}}};
g.y.FE=function(){this.W.reset();this.J=null;this.N=0;if(this.U.length)if(this.T)X0S(this);else{var N=this.U;this.U=[];var h=N.length;J_(this);for(let O=0;O<h;++O)eL(this.G,N[O]);SL(this);SL(this)}else SL(this)};
g.y.hK=function(N){var h=N==2&&this.G.Ve==401;N==4||h||this.W.start();this.publish("handlerError",N,h);h=Object.keys(agY).find(O=>agY[O]===N);
this.tQ.G("BROWSER_CHANNEL",h??"UNKNOWN")};
g.y.nA=function(N,h){if(!this.W.isActive())this.publish("handlerClosed");else if(h){const O=h.length;for(let u=0;u<O;++u){const D=h[u].map;D&&this.U.push(D)}}this.l0.G("BROWSER_CHANNEL");N&&g.$L(this.Wo.W,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps",N.length);h&&g.$L(this.XF.W,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps",h.length)};
g.y.Sa=function(N,h){h!=null&&N!=null&&this.df.G()};
g.y.OQ=function(){const N={v:2};this.Qm&&(N.gsessionid=this.Qm);this.N!=0&&(N.ui=""+this.N);this.D!=0&&(N.ui=""+this.D);this.J&&g.hE(N,this.J);return N};
g.y.tK=function(N){N[0]=="S"?this.Qm=N[1]:N[0]=="gracefulReconnect"?(this.W.start(),this.G.disconnect()):this.publish("handlerMessage",new E95(N[0],N[1]));this.FA.G("BROWSER_CHANNEL")};
g.y.TJ=function(){return!!this.G&&this.G.getState()==3};
g.y.HR=function(N){(this.eS.loungeIdToken=N)||this.W.stop();if(this.Qp&&this.G){const h=this.G.j7||{};N?h["X-YouTube-LoungeId-Token"]=N:delete h["X-YouTube-LoungeId-Token"];this.G.j7=h}};
g.y.getDeviceId=function(){return this.eS.id};
g.y.t_=function(){return this.W.isActive()?this.W.W-Date.now():NaN};
g.y.rp=function(){var N=this.W;g.UU(N.G);N.start()};
g.y.Ld=function(){this.W.isActive();tUV(this.G)==0&&this.connect(this.J,this.N)};Hl.prototype.sendRequest=function(N,h,O,u,D,U,d){N={format:U?"RAW":"JSON",method:N,context:this,timeout:5E3,withCredentials:!!d,onSuccess:g.Re(this.X,u,!U),onError:g.Re(this.U,D),onTimeout:g.Re(this.T,D)};O&&(N.postParams=O,N.headers={"Content-Type":"application/x-www-form-urlencoded"});return g.dc(h,N)};
Hl.prototype.X=function(N,h,O,u){h?N(u):N({text:O.responseText})};
Hl.prototype.U=function(N,h){N(Error("Request error: "+h.status))};
Hl.prototype.T=function(N){N(Error("request timed out"))};var FZK=class extends g.jW{constructor(N,h){super();this.handler=N();this.handler.subscribe("handlerOpened",this.G,this);this.handler.subscribe("handlerClosed",this.onClosed,this);this.handler.subscribe("handlerError",(O,u)=>{this.onError(u)});
this.handler.subscribe("handlerMessage",this.onMessage,this);this.W=h}connect(N,h,O){this.handler.connect(N,h,O)}disconnect(N){this.handler.disconnect(N)}rp(){this.handler.rp()}getDeviceId(){return this.handler.getDeviceId()}t_(){return this.handler.t_()}TJ(){return this.handler.TJ()}G(){this.dispatchEvent("channelOpened");var N=this.handler,h=this.W;g.V6("yt-remote-session-browser-channel",{firstTestResults:[""],secondTestResults:!N.G.m6,sessionId:N.G.X,arrayId:N.G.y8});g.V6("yt-remote-session-screen-id",
h);N=IM();h=$c();g.Zd(N,h)||N.push(h);GSR(N);yw()}onClosed(){this.dispatchEvent("channelClosed")}onMessage(N){this.dispatchEvent(new qt5(N))}onError(N){this.dispatchEvent(new gxS(N?1:0))}sendMessage(N,h){this.handler.sendMessage(N,h)}HR(N){this.handler.HR(N)}dispose(){this.handler.dispose()}};var n9R=class{constructor(N,h,O=()=>""){new Oe5;
var u=new g.WY;this.pathPrefix=N;this.G=h;this.Qm=O;this.T=u;this.N=null;this.J=this.V=0;this.channel=null;this.O=0;this.U=new gN(()=>{this.U.isActive();this.channel?.X().W()===0&&this.connect(this.N,this.V)});
this.X={};this.W={};this.eS=!1;this.logger=null;this.D=[];this.jo=void 0;this.TO=new cZY;this.fC=new aVm;this.XA=new g9j;this.WB=new rZV}connect(N={},h=0){this.O!==2&&(this.U.stop(),this.N=N,this.V=h,Wl(this),(N=g.J("ID_TOKEN"))?this.X["x-youtube-identity-token"]=N:delete this.X["x-youtube-identity-token"],this.G&&(this.W.device=this.G.device,this.W.name=this.G.name,this.W.app=this.G.app,this.W.id=this.G.id,this.G.cN&&(this.W.mdxVersion=`${this.G.cN}`),this.G.theme&&(this.W.theme=this.G.theme),this.G.capabilities&&
(this.W.capabilities=this.G.capabilities),this.G.cT&&(this.W.cst=this.G.cT),this.G.authuser&&(this.W.authuser=this.G.authuser),this.G.pageId&&(this.W.pageId=this.G.pageId)),this.V!==0?this.W.ui=`${this.V}`:delete this.W.ui,Object.assign(this.W,this.N),this.channel=new A_(this.pathPrefix,{yw:"gsessionid",nm:this.X,zb:this.W}),this.channel.open(),this.O=2,lVR(this))}disconnect(N=0){this.J=N;this.U.stop();Wl(this);this.channel&&(this.J!==0?this.W.ui=`${this.J}`:delete this.W.ui,this.channel.close());
this.J=0}t_(){return this.U.isActive()?this.U.W-Date.now():NaN}rp(){var N=this.U;g.UU(N.G);N.start()}sendMessage(N,h){this.channel&&(Wl(this),this.channel.send({_sc:N,...h}))}HR(N){N||this.U.stop();N?this.X["X-YouTube-LoungeId-Token"]=N:delete this.X["X-YouTube-LoungeId-Token"]}getDeviceId(){return this.G?this.G.id:""}publish(N,...h){return this.T.publish(N,...h)}subscribe(N,h,O){return this.T.subscribe(N,h,O)}unsubscribe(N,h,O){return this.T.unsubscribe(N,h,O)}Jy(N){return this.T.Jy(N)}dispose(){this.eS||
(this.eS=!0,g.M2(this.T),this.disconnect(),g.M2(this.U),this.Qm=()=>"")}s3(){return this.eS}};var xb4=class extends g.jW{constructor(N){super();this.G=N();this.G.subscribe("webChannelOpened",this.W,this);this.G.subscribe("webChannelClosed",this.onClosed,this);this.G.subscribe("webChannelError",this.onError,this);this.G.subscribe("webChannelMessage",this.onMessage,this)}connect(N,h){this.G.connect(N,h)}disconnect(N){this.G.disconnect(N)}rp(){this.G.rp()}getDeviceId(){return this.G.getDeviceId()}t_(){return this.G.t_()}TJ(){return this.G.O===3}W(){this.dispatchEvent("channelOpened")}onClosed(){this.dispatchEvent("channelClosed")}onMessage(N){this.dispatchEvent(new qt5(N))}onError(){this.dispatchEvent(new gxS(this.G.jo===
401?1:0))}sendMessage(N,h){this.G.sendMessage(N,h)}HR(N){this.G.HR(N)}dispose(){this.G.dispose()}};var U25=Date.now(),Xf=null,xB=Array(50),l1=-1,n8=!1;g.eo(Ff,g.yQ);Ff.prototype.YM=function(){return this.screens};
Ff.prototype.contains=function(N){return!!Kf(this.screens,N)};
Ff.prototype.get=function(N){return N?mL(this.screens,N):null};
Ff.prototype.info=function(N){f8(this.O,N)};var szY=class extends g.yQ{constructor(N,h,O,u,D){super();this.X=N;this.D=h;this.N=O;this.eS=u;this.J=D;this.W=0;this.G=null;this.RO=NaN}start(){!this.G&&isNaN(this.RO)&&this.U()}stop(){this.G&&(this.G.abort(),this.G=null);isNaN(this.RO)||(g.F$(this.RO),this.RO=NaN)}U3(){this.stop();super.U3()}U(){this.RO=NaN;this.G=g.dc(T7(this.X,"/pairing/get_screen"),{method:"POST",postParams:{pairing_code:this.D},timeout:5E3,onSuccess:(0,g.Vy)(this.O,this),onError:(0,g.Vy)(this.T,this),onTimeout:(0,g.Vy)(this.V,
this)})}O(N,h){this.G=null;N=h.screen||{};N.dialId=this.N;N.name=this.eS;h=-1;this.J&&N.shortLivedLoungeToken&&N.shortLivedLoungeToken.value&&N.shortLivedLoungeToken.refreshIntervalMs&&(N.screenIdType="shortLived",N.loungeToken=N.shortLivedLoungeToken.value,h=N.shortLivedLoungeToken.refreshIntervalMs);this.publish("pairingComplete",new Qw(N),h)}T(N){this.G=null;N.status&&N.status==404?this.W>=rXr.length?this.publish("pairingFailed",Error("DIAL polling timed out")):(N=rXr[this.W],this.RO=g.xT((0,g.Vy)(this.U,
this),N),this.W++):this.publish("pairingFailed",Error("Server error "+N.status))}V(){this.G=null;this.publish("pairingFailed",Error("Server not responding"))}},rXr=[2E3,2E3,1E3,1E3,1E3,2E3,2E3,5E3,5E3,1E4];g.eo(kB,Ff);g.y=kB.prototype;g.y.start=function(){Z_(this)&&this.publish("screenChange");!g.RW("yt-remote-lounge-token-expiration")&&ibx(this);g.F$(this.G);this.G=g.xT((0,g.Vy)(this.start,this),1E4)};
g.y.add=function(N,h){Z_(this);d2V(this,N);NO(this,!1);this.publish("screenChange");h(N);N.token||ibx(this)};
g.y.remove=function(N,h){let O=Z_(this);bbo(this,N)&&(NO(this,!1),O=!0);h(N);O&&this.publish("screenChange")};
g.y.LA=function(N,h,O,u){let D=Z_(this);const U=this.get(N.id);U?(U.name!=h&&(U.name=h,NO(this,!1),D=!0),O(N)):u(Error("no such local screen."));D&&this.publish("screenChange")};
g.y.U3=function(){g.F$(this.G);kB.De.U3.call(this)};
g.y.JA=function(N){Z_(this);let h=this.screens.length;N=N&&N.screens||[];const O=N.length;for(let u=0;u<O;++u){const D=N[u],U=this.get(D.screenId);U&&(U.token=D.loungeToken,--h)}NO(this,!h);h&&f8(this.O,"Missed "+h+" lounge tokens.")};
g.y.zC=function(N){f8(this.O,"Requesting lounge tokens failed: "+N)};var wpK=class extends g.yQ{constructor(N,h){super();this.O=h;h=(h=g.RW("yt-remote-online-screen-ids")||"")?h.split(","):[];const O={},u=this.O(),D=u.length;for(let U=0;U<D;++U){const d=u[U].id;O[d]=g.Zd(h,d)}this.G=O;this.T=N;this.U=this.X=NaN;this.W=null;hN("Initialized with "+g.a9(this.G))}start(){const N=parseInt(g.RW("yt-remote-fast-check-period")||"0",10);(this.X=g.Mt()-144E5<N?0:N)?OV(this):(this.X=g.Mt()+3E5,g.V6("yt-remote-fast-check-period",this.X),this.V())}isEmpty(){return g.YY(this.G)}update(){hN("Updating availability on schedule.");
const N=this.O(),h=g.ER(this.G,function(O,u){return O&&!!mL(N,u)},this);
uE(this,h)}U3(){g.F$(this.U);this.U=NaN;this.W&&(this.W.abort(),this.W=null);super.U3()}V(){g.F$(this.U);this.U=NaN;this.W&&this.W.abort();const N=CKx(this);if(bJ(N)){var h=T7(this.T,"/pairing/get_screen_availability"),O={lounge_token:g.Ho(N).join(",")};this.W=this.T.sendRequest("POST",h,O,(0,g.Vy)(this.J,this,N),(0,g.Vy)(this.N,this))}else uE(this,{}),OV(this)}J(N,h){this.W=null;var O=g.Ho(CKx(this));if(g.Rr(O,g.Ho(N))){h=h.screens||[];O={};var u=h.length;for(let D=0;D<u;++D)O[N[h[D].loungeToken]]=
h[D].status=="online";uE(this,O);OV(this)}else this.Ih("Changing Screen set during request."),this.V()}N(N){this.Ih("Screen availability failed: "+N);this.W=null;OV(this)}Ih(N){f8("OnlineScreenService",N)}};g.eo(UV,Ff);g.y=UV.prototype;g.y.start=function(){this.W.start();this.G.start();this.screens.length&&(this.publish("screenChange"),this.G.isEmpty()||this.publish("onlineScreenChange"))};
g.y.add=function(N,h,O){this.W.add(N,h,O)};
g.y.remove=function(N,h,O){this.W.remove(N,h,O);this.G.update()};
g.y.LA=function(N,h,O,u){this.W.contains(N)?this.W.LA(N,h,O,u):(N="Updating name of unknown screen: "+N.name,f8(this.O,N),u(Error(N)))};
g.y.YM=function(N){return N?this.screens:g.or(this.screens,g.HR(this.U,function(h){return!this.contains(h)},this))};
g.y.sQ=function(){return g.HR(this.YM(!0),function(N){return!!this.G.G[N.id]},this)};
g.y.HQ=function(N,h,O,u,D,U){this.info("getDialScreenByPairingCode "+N+" / "+h);const d=new szY(this.X,N,h,O,u);d.subscribe("pairingComplete",(G,b)=>{g.M2(d);D(d$(this,G),b)});
d.subscribe("pairingFailed",G=>{g.M2(d);U(G)});
d.start();return(0,g.Vy)(d.stop,d)};
g.y.TQ=function(N,h,O,u){g.dc(T7(this.X,"/pairing/get_screen"),{method:"POST",postParams:{pairing_code:N},timeout:5E3,onSuccess:(0,g.Vy)(function(D,U){D=new Qw(U.screen||{});if(!D.name||Lwo(this,D.name)){a:{U=D.name;let d=2,G=h(U,d);for(;Lwo(this,G);){d++;if(d>20)break a;G=h(U,d)}U=G}D.name=U}O(d$(this,D))},this),
onError:(0,g.Vy)(function(D){u(Error("pairing request failed: "+D.status))},this),
onTimeout:(0,g.Vy)(function(){u(Error("pairing request timed out."))},this)})};
g.y.U3=function(){g.M2(this.W);g.M2(this.G);UV.De.U3.call(this)};
g.y.Kf=function(){vd5(this);this.publish("screenChange");this.G.update()};
UV.prototype.dispose=UV.prototype.dispose;g.eo(bE,g.yQ);g.y=bE.prototype;g.y.zE=function(N){this.s3()||(N&&(BM(this,""+N),this.publish("sessionFailed")),this.G=null,this.publish("sessionScreen",null))};
g.y.info=function(N){f8(this.WB,N)};
g.y.Vi=function(){return null};
g.y.NZ=function(N){const h=this.W;N?(h.displayStatus=new chrome.cast.ReceiverDisplayStatus(N,[]),h.displayStatus.showStop=!0):h.displayStatus=null;chrome.cast.setReceiverDisplayStatus(h,(0,g.Vy)(function(){this.info("Updated receiver status for "+h.friendlyName+": "+N)},this),(0,g.Vy)(function(){BM(this,"Failed to update receiver status for: "+h.friendlyName)},this))};
g.y.U3=function(){this.NZ("");bE.De.U3.call(this)};var yX=class extends bE{constructor(N,h,O){super(N,h,"CastSession");this.config_=O;this.U=null;this.D=(0,g.Vy)(this.TO,this);this.Qm=(0,g.Vy)(this.M5,this);this.eS=g.xT(()=>{tSY(this,null)},12E4);
this.N=this.T=this.V=this.J=0}fC(N){if(this.U){if(this.U==N)return;BM(this,"Overriding cast session with new session object");$2j(this);this.U.removeUpdateListener(this.D);this.U.removeMessageListener("urn:x-cast:com.google.youtube.mdx",this.Qm)}this.U=N;this.U.addUpdateListener(this.D);this.U.addMessageListener("urn:x-cast:com.google.youtube.mdx",this.Qm);yp5(this,"getMdxSessionStatus")}O(N){this.info("launchWithParams no-op for Cast: "+g.a9(N))}stop(){this.U?this.U.stop((0,g.Vy)(function(){this.zE()},
this),(0,g.Vy)(function(){this.zE(Error("Failed to stop receiver app."))},this)):this.zE(Error("Stopping cast device without session."))}NZ(){}U3(){this.info("disposeInternal");
$2j(this);this.U&&(this.U.removeUpdateListener(this.D),this.U.removeMessageListener("urn:x-cast:com.google.youtube.mdx",this.Qm));this.U=null;super.U3()}M5(N,h){if(!this.s3())if(h)if(h=iJ(h),g.td(h))switch(N=""+h.type,h=h.data||{},this.info("onYoutubeMessage_: "+N+" "+g.a9(h)),N){case "mdxSessionStatus":tSY(this,h);break;case "loungeToken":VSV(this,h);break;default:BM(this,"Unknown youtube message: "+N)}else BM(this,"Unable to parse message.");else BM(this,"No data in message.")}XA(N,h,O,u){g.F$(this.J);
this.J=0;Qu4(this.X,this.W.label,N,this.W.friendlyName,(0,g.Vy)(function(D){D?h(D):u>=0?(BM(this,"Screen "+N+" appears to be offline. "+u+" retries left."),this.J=g.xT((0,g.Vy)(this.XA,this,N,h,O,u-1),300)):O(Error("Unable to fetch screen."))},this),O)}Vi(){return this.U}TO(N){this.s3()||N||(BM(this,"Cast session died."),this.zE())}};var JXY=class extends bE{constructor(N,h,O,u){super(N,h,"DialSession");this.config_=u;this.U=this.J=null;this.Qm="";this.M5=O;this.TO=null;this.D=()=>{};
this.eS=NaN;this.XA=(0,g.Vy)(this.l0,this);this.T=()=>{};
this.N=this.V=0}fC(N){this.U=N;this.U.addUpdateListener(this.XA)}O(N){this.TO=N;this.D()}stop(){eh5(this);this.U?this.U.stop((0,g.Vy)(this.zE,this,null),(0,g.Vy)(this.zE,this,"Failed to stop DIAL device.")):this.zE()}U3(){eh5(this);this.U&&this.U.removeUpdateListener(this.XA);this.U=null;super.U3()}l0(N){this.s3()||N||(BM(this,"DIAL session died."),this.T(),this.T=()=>{},this.zE())}};var jzo=class extends bE{constructor(N,h){super(N,h,"ManualSession");this.U=g.xT((0,g.Vy)(this.O,this,null),150)}stop(){this.zE()}fC(){}O(){g.F$(this.U);this.U=NaN;const N=mL(this.X.YM(),this.W.label);N?iE(this,N):this.zE(Error("No such screen"))}U3(){g.F$(this.U);this.U=NaN;super.U3()}};var pu=class extends g.yQ{constructor(N,h){super();this.config_=h;this.W=N;this.fC=h.appId||"233637DE";this.X=h.theme||"cl";this.WB=h.disableCastApi||!1;this.V=h.forceMirroring||!1;this.G=null;this.N=!1;this.U=[];this.O=(0,g.Vy)(this.TO,this)}init(N,h){chrome.cast.timeout.requestSession=3E4;var O=new chrome.cast.SessionRequest(this.fC,[chrome.cast.Capability.AUDIO_OUT]);g.NL("desktop_enable_cast_connect")&&(O.androidReceiverCompatible=!0);this.WB||(O.dialRequest=new chrome.cast.DialRequest("YouTube"));
const u=chrome.cast.AutoJoinPolicy.TAB_AND_ORIGIN_SCOPED;N=N||this.V?chrome.cast.DefaultActionPolicy.CAST_THIS_TAB:chrome.cast.DefaultActionPolicy.CREATE_SESSION;const D=(0,g.Vy)(this.M5,this);O=new chrome.cast.ApiConfig(O,(0,g.Vy)(this.J,this),D,u,N);O.customDialLaunchCallback=(0,g.Vy)(this.XA,this);chrome.cast.initialize(O,(0,g.Vy)(function(){this.s3()||(chrome.cast.addReceiverActionListener(this.O),ObK(),this.W.subscribe("onlineScreenChange",(0,g.Vy)(this.T,this)),this.U=rpS(this),chrome.cast.setCustomReceivers(this.U,
()=>{},(0,g.Vy)(function(U){this.Ih("Failed to set initial custom receivers: "+g.a9(U))},this)),this.publish("yt-remote-cast2-availability-change",z$(this)),h(!0))},this),(0,g.Vy)(function(U){this.Ih("Failed to initialize API: "+g.a9(U));
h(!1)},this))}tQ(N,h){vM("Setting connected screen ID: "+N+" -> "+h);
if(this.G){var O=this.G.G;if(!N||O&&O.id!=N)vM("Unsetting old screen status: "+this.G.W.friendlyName),w$(this,null)}if(N&&h){if(!this.G){N=mL(this.W.YM(),N);if(!N){vM("setConnectedScreenStatus: Unknown screen.");return}if(N.idType=="shortLived"){vM("setConnectedScreenStatus: Screen with id type to be short lived.");return}O=gdS(this,N);O||(vM("setConnectedScreenStatus: Connected receiver not custom..."),O=new chrome.cast.Receiver(N.uuid?N.uuid:N.id,N.name),O.receiverType=chrome.cast.ReceiverType.CUSTOM,
this.U.push(O),chrome.cast.setCustomReceivers(this.U,()=>{},(0,g.Vy)(function(u){this.Ih("Failed to set initial custom receivers: "+g.a9(u))},this)));
vM("setConnectedScreenStatus: new active receiver: "+O.friendlyName);w$(this,new jzo(this.W,O),!0)}this.G.NZ(h)}else vM("setConnectedScreenStatus: no screen.")}FA(N){this.s3()?this.Ih("Setting connection data on disposed cast v2"):this.G?this.G.O(N):this.Ih("Setting connection data without a session")}Qm(){this.s3()?this.Ih("Stopping session on disposed cast v2"):this.G?(this.G.stop(),w$(this,null)):vM("Stopping non-existing session")}requestSession(){chrome.cast.requestSession((0,g.Vy)(this.J,this),
(0,g.Vy)(this.l0,this))}U3(){this.W.unsubscribe("onlineScreenChange",(0,g.Vy)(this.T,this));window.chrome&&chrome.cast&&chrome.cast.removeReceiverActionListener(this.O);var N=kD5;const h=g.vR("yt.mdx.remote.debug.handlers_");g.dn(h||[],N);g.M2(this.G);super.U3()}Ih(N){f8("Controller",N)}eS(N,h){this.G==N&&(h||w$(this,null),this.publish("yt-remote-cast2-session-change",h))}TO(N,h){if(!this.s3())if(N)switch(N.friendlyName=chrome.cast.unescape(N.friendlyName),vM("onReceiverAction_ "+N.label+" / "+N.friendlyName+
"-- "+h),h){case chrome.cast.ReceiverAction.CAST:if(this.G)if(this.G.W.label!=N.label)vM("onReceiverAction_: Stopping active receiver: "+this.G.W.friendlyName),this.G.stop();else{vM("onReceiverAction_: Casting to active receiver.");this.G.G&&this.publish("yt-remote-cast2-session-change",this.G.G);break}switch(N.receiverType){case chrome.cast.ReceiverType.CUSTOM:w$(this,new jzo(this.W,N));break;case chrome.cast.ReceiverType.DIAL:w$(this,new JXY(this.W,N,this.X,this.config_));break;case chrome.cast.ReceiverType.CAST:w$(this,
new yX(this.W,N,this.config_));break;default:this.Ih("Unknown receiver type: "+N.receiverType)}break;case chrome.cast.ReceiverAction.STOP:this.G&&this.G.W.label==N.label?this.G.stop():this.Ih("Stopping receiver w/o session: "+N.friendlyName)}else this.Ih("onReceiverAction_ called without receiver.")}XA(N){if(this.s3())return Promise.reject(Error("disposed"));var h=N.receiver;h.receiverType!=chrome.cast.ReceiverType.DIAL&&(this.Ih("Not DIAL receiver: "+h.friendlyName),h.receiverType=chrome.cast.ReceiverType.DIAL);
var O=this.G?this.G.W:null;if(!O||O.label!=h.label)return this.Ih("Receiving DIAL launch request for non-clicked DIAL receiver: "+h.friendlyName),Promise.reject(Error("illegal DIAL launch"));if(O&&O.label==h.label&&O.receiverType!=chrome.cast.ReceiverType.DIAL){if(this.G.G)return vM("Reselecting dial screen."),this.publish("yt-remote-cast2-session-change",this.G.G),Promise.resolve(new chrome.cast.DialLaunchResponse(!1));this.Ih('Changing CAST intent from "'+O.receiverType+'" to "dial" for '+h.friendlyName);
w$(this,new JXY(this.W,h,this.X,this.config_))}h=this.G;h.J=N;h.J.appState==chrome.cast.DialAppState.RUNNING?(N=h.J.extraData||{},O=N.screenId||null,QW(h)&&N.loungeToken?N.loungeTokenRefreshIntervalMs?N=qbr(h,{name:h.W.friendlyName,screenId:N.screenId,loungeToken:N.loungeToken,dialId:h.J.receiver.label,screenIdType:"shortLived"},N.loungeTokenRefreshIntervalMs):(g.yG(Error(`No loungeTokenRefreshIntervalMs presents in additionalData: ${JSON.stringify(N)}.`)),N=cpS(h,O)):N=cpS(h,O)):N=o2(h);return N}J(N){if(!this.s3()&&
!this.V){vM("New cast session ID: "+N.sessionId);var h=N.receiver;if(h.receiverType!=chrome.cast.ReceiverType.CUSTOM){if(!this.G)if(h.receiverType==chrome.cast.ReceiverType.CAST)vM("Got resumed cast session before resumed mdx connection."),h.friendlyName=chrome.cast.unescape(h.friendlyName),w$(this,new yX(this.W,h,this.config_),!0);else{this.Ih("Got non-cast session without previous mdx receiver event, or mdx resume.");return}var O=this.G.W,u=mL(this.W.YM(),O.label);u&&Lf(u,h.label)&&O.receiverType!=
chrome.cast.ReceiverType.CAST&&h.receiverType==chrome.cast.ReceiverType.CAST&&(vM("onSessionEstablished_: manual to cast session change "+h.friendlyName),g.M2(this.G),this.G=new yX(this.W,h,this.config_),this.G.subscribe("sessionScreen",(0,g.Vy)(this.eS,this,this.G)),this.G.subscribe("sessionFailed",()=>sur(this,this.G)),this.G.O(null));
this.G.fC(N)}}}D(){return this.G?this.G.Vi():null}l0(N){this.s3()||(this.Ih("Failed to estabilish a session: "+g.a9(N)),N.code!=chrome.cast.ErrorCode.CANCEL&&w$(this,null),this.publish("yt-remote-cast2-session-failed"))}M5(N){vM("Receiver availability updated: "+N);if(!this.s3()){var h=z$(this);this.N=N==chrome.cast.ReceiverAvailability.AVAILABLE;z$(this)!=h&&this.publish("yt-remote-cast2-availability-change",z$(this))}}T(){this.s3()||(this.U=rpS(this),vM("Updating custom receivers: "+g.a9(this.U)),
chrome.cast.setCustomReceivers(this.U,()=>{},(0,g.Vy)(function(){this.Ih("Failed to set custom receivers.")},this)),this.publish("yt-remote-cast2-availability-change",z$(this)))}};
pu.prototype.setLaunchParams=pu.prototype.FA;pu.prototype.setConnectedScreenStatus=pu.prototype.tQ;pu.prototype.stopSession=pu.prototype.Qm;pu.prototype.getCastSession=pu.prototype.D;pu.prototype.requestSession=pu.prototype.requestSession;pu.prototype.init=pu.prototype.init;pu.prototype.dispose=pu.prototype.dispose;var yW=[],TrR=(0,g.OY)`https://www.gstatic.com/cv/js/sender/v1/cast_sender.js`;g.y=eO.prototype;
g.y.reset=function(N){this.listId="";this.index=-1;this.videoId="";EV(this);this.volume=-1;this.muted=!1;N&&(this.index=N.index,this.listId=N.listId,this.videoId=N.videoId,this.playerState=N.playerState,this.volume=N.volume,this.muted=N.muted,this.audioTrackId=N.audioTrackId,this.trackData=N.trackData,this.v9=N.hasPrevious,this.yY=N.hasNext,this.O=N.playerTime,this.T=N.playerTimeAt,this.W=N.seekableStart,this.V=N.seekableEnd,this.U=N.duration,this.N=N.loadedTime,this.G=N.liveIngestionTime,this.X=
!isNaN(this.G))};
g.y.isPlaying=function(){return this.playerState==1};
g.y.isBuffering=function(){return this.playerState==3};
g.y.vE=function(N){this.U=isNaN(N)?0:N};
g.y.getDuration=function(){return this.X?this.U+cM(this):this.U};
g.y.clone=function(){return new eO(r$(this))};var Stm=class extends g.yQ{constructor(){var N=bk();super();this.U=0;this.X=N;this.V=[];this.T=new ewS;this.W=this.G=null;this.D=(0,g.Vy)(this.TO,this);this.J=(0,g.Vy)(this.O,this);this.eS=(0,g.Vy)(this.XA,this);this.WB=(0,g.Vy)(this.M5,this);let h=0;N?(h=N.getProxyState(),h!=3&&(N.subscribe("proxyStateChange",this.fC,this),Fwx(this))):h=3;h!=0&&g.xT(()=>{this.fC(h)},0);
(N=lyY())&&sV(this,N);this.subscribe("yt-remote-cast2-session-change",this.WB)}getState(){return this.U}t_(){return this.X.getReconnectTimeout()}rp(){this.X.reconnect()}play(){jO(this)?(this.G?this.G.play(null,g.Hi,HM(this,"play")):SO(this,"play"),WM(this,1,qO(JN(this))),this.publish("remotePlayerChange")):XH(this,this.play)}pause(){jO(this)?(this.G?this.G.pause(null,g.Hi,HM(this,"pause")):SO(this,"pause"),WM(this,2,qO(JN(this))),this.publish("remotePlayerChange")):XH(this,this.pause)}seekTo(N){if(jO(this)){if(this.G){const h=
JN(this),O=new chrome.cast.media.SeekRequest;O.currentTime=N;h.isPlaying()||h.isBuffering()?O.resumeState=chrome.cast.media.ResumeState.PLAYBACK_START:O.resumeState=chrome.cast.media.ResumeState.PLAYBACK_PAUSE;this.G.seek(O,g.Hi,HM(this,"seekTo",{newTime:N}))}else SO(this,"seekTo",{newTime:N});WM(this,3,N);this.publish("remotePlayerChange")}else XH(this,g.Re(this.seekTo,N))}stop(){if(jO(this)){this.G?this.G.stop(null,g.Hi,HM(this,"stopVideo")):SO(this,"stopVideo");var N=JN(this);N.index=-1;N.videoId=
"";EV(N);T$(this,N);this.publish("remotePlayerChange")}else XH(this,this.stop)}setVolume(N,h){if(jO(this)){var O=JN(this);if(this.W){if(O.volume!=N){const u=Math.round(N)/100;this.W.setReceiverVolumeLevel(u,(0,g.Vy)(function(){YB("set receiver volume: "+u)},this),(0,g.Vy)(function(){this.Ih("failed to set receiver volume.")},this))}O.muted!=h&&this.W.setReceiverMuted(h,(0,g.Vy)(function(){YB("set receiver muted: "+h)},this),(0,g.Vy)(function(){this.Ih("failed to set receiver muted.")},this))}else{const u=
{volume:N,
muted:h};O.volume!=-1&&(u.delta=N-O.volume);SO(this,"setVolume",u)}O.muted=h;O.volume=N;T$(this,O)}else XH(this,g.Re(this.setVolume,N,h))}N(N,h){if(jO(this)){var O=JN(this);N={videoId:N};h&&(O.trackData={trackName:h.name,languageCode:h.languageCode,sourceLanguageCode:h.translationLanguage?h.translationLanguage.languageCode:"",languageName:h.languageName,kind:h.kind},N.style=g.a9(h.style),g.hE(N,O.trackData));SO(this,"setSubtitlesTrack",N);T$(this,O)}else XH(this,g.Re(this.N,N,h))}setAudioTrack(N,
h){jO(this)?(h=h.getLanguageInfo().getId(),SO(this,"setAudioTrack",{videoId:N,audioTrackId:h}),N=JN(this),N.audioTrackId=h,T$(this,N)):XH(this,g.Re(this.setAudioTrack,N,h))}playVideo(N,h,O,u=null,D=null,U=null,d=null){const G=JN(this),b={videoId:N};O!==void 0&&(b.currentIndex=O);g$(G,N,O||0);h!==void 0&&(a2(G,h),b.currentTime=h);u&&(b.listId=u);D&&(b.playerParams=D);U&&(b.clickTrackingParams=U);d&&(b.locationInfo=g.a9(d));SO(this,"setPlaylist",b);u||T$(this,G)}IA(N,h){if(jO(this)){if(N&&h){const O=
JN(this);g$(O,N,h);T$(this,O)}SO(this,"previous")}else XH(this,g.Re(this.IA,N,h))}nextVideo(N,h){if(jO(this)){if(N&&h){const O=JN(this);g$(O,N,h);T$(this,O)}SO(this,"next")}else XH(this,g.Re(this.nextVideo,N,h))}HL(){if(jO(this)){SO(this,"clearPlaylist");var N=JN(this);N.reset();T$(this,N);this.publish("remotePlayerChange")}else XH(this,this.HL)}Qm(){jO(this)?SO(this,"dismissAutoplay"):XH(this,this.Qm)}dispose(){if(this.U!=3){const N=this.U;this.U=3;this.publish("proxyStateChange",N,this.U)}super.dispose()}U3(){ZbV(this);
this.X=null;this.T.clear();sV(this,null);super.U3()}fC(N){if((N!=this.U||N==2)&&this.U!=3&&N!=0){var h=this.U;this.U=N;this.publish("proxyStateChange",h,N);if(N==1)for(;!this.T.isEmpty();)h=N=this.T,h.G.length===0&&(h.G=h.W,h.G.reverse(),h.W=[]),N.G.pop().apply(this);else N==3&&this.dispose()}}l0(N,h){this.publish(N,h)}TO(N){if(!N)this.O(null),sV(this,null);else if(this.W.receiver.volume){N=this.W.receiver.volume;const h=JN(this),O=Math.round(100*N.level||0);if(h.volume!=O||h.muted!=N.muted)YB("Cast volume update: "+
N.level+(N.muted?" muted":"")),h.volume=O,h.muted=!!N.muted,T$(this,h)}}O(N){YB("Cast media: "+!!N);this.G&&this.G.removeUpdateListener(this.eS);if(this.G=N)this.G.addUpdateListener(this.eS),k2R(this),this.publish("remotePlayerChange")}XA(N){N?(k2R(this),this.publish("remotePlayerChange")):this.O(null)}I8(){SO(this,"sendDebugCommand",{debugCommand:"stats4nerds "})}M5(){const N=lyY();N&&sV(this,N)}Ih(N){f8("CP",N)}};var vQ=class extends g.yQ{constructor(N,h=!1){var O=Zs,u=d6();super();this.O=NaN;this.XA=!1;this.D=this.eS=this.fC=this.WB=NaN;this.Qm=[];this.T=this.N=this.X=this.G=this.W=null;this.jS=O;this.l0=h;this.Qm.push(g.z9(window,"beforeunload",()=>{this.V(2)}));
this.U=[];this.G=new eO;this.Rr=N.id;this.M5=N.idType;this.W=ZeR(this.jS,u,this.TO,this.M5=="shortLived",this.Rr);this.W.listen("channelOpened",()=>{Np4(this)});
this.W.listen("channelClosed",()=>{fu("Channel closed");isNaN(this.O)?Vw(!0):Vw();this.dispose()});
this.W.listen("channelError",D=>{Vw();isNaN(this.J())?(D==1&&this.M5=="shortLived"&&this.publish("browserChannelAuthError",D),fu(`Channel error: ${D} without reconnection`),this.dispose()):(this.XA=!0,fu("Channel error: "+D+" with reconnection in "+this.J()+" ms"),lE(this,2))});
this.W.listen("channelMessage",D=>{AXS(this,D)});
this.W.HR(N.token);this.subscribe("remoteQueueChange",()=>{var D=this.G.videoId;g.M$()&&g.V6("yt-remote-session-video-id",D)})}connect(N,h){if(h){var O=h.listId;
const u=h.videoId,D=h.videoIds,U=h.playerParams,d=h.clickTrackingParams,G=h.index,b={videoId:u},B=h.currentTime,C=h.locationInfo;h=h.loopMode;B!==void 0&&(b.currentTime=B<=5?0:B);U&&(b.playerParams=U);C&&(b.locationInfo=C);d&&(b.clickTrackingParams=d);O&&(b.listId=O);D&&D.length>0&&(b.videoIds=D.join(","));G!==void 0&&(b.currentIndex=G);this.l0&&(b.loopMode=h||"LOOP_MODE_OFF");O&&(this.G.listId=O);this.G.videoId=u;this.G.index=G||0;this.G.state=3;a2(this.G,B);this.T="UNSUPPORTED";O=this.l0?"setInitialState":
"setPlaylist";fu(`Connecting with ${O} and params: ${g.a9(b)}`);this.W.connect({method:O,params:g.a9(b)},N,bMn())}else fu("Connecting without params"),this.W.connect({},N,bMn());oxV(this)}HR(N){this.W.HR(N)}dispose(){this.s3()||(g.zZ("yt.mdx.remote.remoteClient_",null),this.publish("beforeDispose"),lE(this,3));super.dispose()}U3(){xM(this);nu(this);YM(this);g.F$(this.eS);this.eS=NaN;g.F$(this.D);this.D=NaN;this.X=null;g.vJ(this.Qm);this.Qm.length=0;this.W.dispose();super.U3();this.T=this.N=this.U=
this.G=this.W=null}FA(N){if(!this.U||this.U.length===0)return!1;for(const h of this.U)if(!h.capabilities.has(N))return!1;return!0}E3(){let N=3;this.s3()||(N=0,isNaN(this.J())?this.W.TJ()&&isNaN(this.O)&&(N=1):N=2);return N}V(N){fu("Disconnecting with "+N);g.zZ("yt.mdx.remote.remoteClient_",null);xM(this);this.publish("beforeDisconnect",N);N==1&&Vw();this.W.disconnect(N);this.dispose()}JQ(){let N=this.G;this.X&&(N=this.G.clone(),g$(N,this.X,N.index));return r$(N)}Qp(N){const h=new eO(N);h.videoId&&
h.videoId!=this.G.videoId&&(this.X=h.videoId,g.F$(this.eS),this.eS=g.xT(()=>{if(this.X){const u=this.X;this.X=null;this.G.videoId!=u&&FH(this,"getNowPlaying")}},5E3));
const O=[];this.G.listId==h.listId&&this.G.videoId==h.videoId&&this.G.index==h.index||O.push("remoteQueueChange");this.G.playerState==h.playerState&&this.G.volume==h.volume&&this.G.muted==h.muted&&qO(this.G)==qO(h)&&g.a9(this.G.trackData)==g.a9(h.trackData)||O.push("remotePlayerChange");this.G.reset(N);g.So(O,function(u){this.publish(u)},this)}tQ(){const N=this.W.getDeviceId(),h=g.xp(this.U,function(O){return O.type=="REMOTE_CONTROL"&&O.id!=N});
return h?h.id:""}J(){return this.W.t_()}AQ(){return this.T||"UNSUPPORTED"}nC(){return this.N||""}df(){!isNaN(this.J())&&this.W.rp()}KC(N,h){FH(this,N,h);zir(this)}TO(){var N=g.Is("SAPISID","")||g.Is("__Secure-1PAPISID")||"",h=g.Is("__Secure-3PAPISID","")||"";if(!N&&!h)return"";N=g.kZ(g.nR(N),2);h=g.kZ(g.nR(h),2);return g.kZ(g.nR(`,${N},${h}`),2)}};vQ.prototype.subscribe=vQ.prototype.subscribe;vQ.prototype.unsubscribeByKey=vQ.prototype.Jy;vQ.prototype.getProxyState=vQ.prototype.E3;
vQ.prototype.disconnect=vQ.prototype.V;vQ.prototype.getPlayerContextData=vQ.prototype.JQ;vQ.prototype.setPlayerContextData=vQ.prototype.Qp;vQ.prototype.getOtherConnectedRemoteId=vQ.prototype.tQ;vQ.prototype.getReconnectTimeout=vQ.prototype.J;vQ.prototype.getAutoplayMode=vQ.prototype.AQ;vQ.prototype.getAutoplayVideoId=vQ.prototype.nC;vQ.prototype.reconnect=vQ.prototype.df;vQ.prototype.sendMessage=vQ.prototype.KC;vQ.prototype.getXsrfToken=vQ.prototype.TO;
vQ.prototype.isCapabilitySupportedOnConnectedDevices=vQ.prototype.FA;var $fj=class extends Ff{constructor(N){super("ScreenServiceProxy");this.IN=N;this.G=[];this.G.push(this.IN.$_s("screenChange",(0,g.Vy)(this.W,this)));this.G.push(this.IN.$_s("onlineScreenChange",(0,g.Vy)(this.U,this)))}YM(N){return this.IN.$_gs(N)}contains(N){return!!this.IN.$_c(N)}get(N){return this.IN.$_g(N)}start(){this.IN.$_st()}add(N,h,O){this.IN.$_a(N,h,O)}remove(N,h,O){this.IN.$_r(N,h,O)}LA(N,h,O,u){this.IN.$_un(N,h,O,u)}U3(){const N=this.G.length;for(let h=0;h<N;++h)this.IN.$_ubk(this.G[h]);
this.G.length=0;this.IN=null;super.U3()}W(){this.publish("screenChange")}U(){this.publish("onlineScreenChange")}};UV.prototype.$_st=UV.prototype.start;UV.prototype.$_gspc=UV.prototype.TQ;UV.prototype.$_gsppc=UV.prototype.HQ;UV.prototype.$_c=UV.prototype.contains;UV.prototype.$_g=UV.prototype.get;UV.prototype.$_a=UV.prototype.add;UV.prototype.$_un=UV.prototype.LA;UV.prototype.$_r=UV.prototype.remove;UV.prototype.$_gs=UV.prototype.YM;UV.prototype.$_gos=UV.prototype.sQ;UV.prototype.$_s=UV.prototype.subscribe;
UV.prototype.$_ubk=UV.prototype.Jy;var BQ=null,zG=!1,Zs=null,kM=null,LQ=null,uk=[];var HUj=class extends g.eS{constructor(N,h,O){super();this.G=N;this.S=h;this.ZT=O;this.events=new g.dG(this);this.O=!1;this.N=new g.D4(64);this.W=new g.Du(this.TO,500,this);this.U=new g.Du(this.M5,1E3,this);this.eS=new qW(this.Rr,0,this);this.X={};this.D=new g.Du(this.tQ,1E3,this);this.J=new g.u2(this.seekTo,1E3,this);this.FA=this.events.A(this.S,"onVolumeChange",u=>{Rix(this,u)});
g.R(this,this.events);this.events.A(h,"onCaptionsTrackListChanged",this.df);this.events.A(h,"captionschanged",this.jS);this.events.A(h,"captionssettingschanged",this.l0);this.events.A(h,"videoplayerreset",this.V);this.events.A(h,"mdxautoplaycancel",()=>{this.ZT.Qm()});
h.j("enable_mdx_video_play_directly")&&this.events.A(h,"videodatachange",()=>{p7Y(this.G)||w6(this)||KQ(this,0)});
N=this.ZT;N.s3();N.subscribe("proxyStateChange",this.XA,this);N.subscribe("remotePlayerChange",this.T,this);N.subscribe("remoteQueueChange",this.V,this);N.subscribe("previousNextChange",this.WB,this);N.subscribe("nowAutoplaying",this.fC,this);N.subscribe("autoplayDismissed",this.Qm,this);g.R(this,this.W);g.R(this,this.U);g.R(this,this.eS);g.R(this,this.D);g.R(this,this.J);this.l0();this.V();this.T()}U3(){super.U3();this.W.stop();this.U.stop();this.eS.stop();const N=this.ZT;N.unsubscribe("proxyStateChange",
this.XA,this);N.unsubscribe("remotePlayerChange",this.T,this);N.unsubscribe("remoteQueueChange",this.V,this);N.unsubscribe("previousNextChange",this.WB,this);N.unsubscribe("nowAutoplaying",this.fC,this);N.unsubscribe("autoplayDismissed",this.Qm,this);this.ZT=this.G=null}LD(N,...h){if(this.ZT.U!=2)if(w6(this)){if(JN(this.ZT).playerState!=1081||N!=="control_seek")switch(N){case "control_toggle_play_pause":JN(this.ZT).isPlaying()?this.ZT.pause():this.ZT.play();break;case "control_play":this.ZT.play();
break;case "control_pause":this.ZT.pause();break;case "control_seek":this.J.X(h[0],h[1]);break;case "control_subtitles_set_track":m$(this,h[0]);break;case "control_set_audio_track":this.setAudioTrack(h[0])}}else switch(N){case "control_toggle_play_pause":case "control_play":case "control_pause":N=this.S.getCurrentTime();KQ(this,N===0?void 0:N);break;case "control_seek":KQ(this,h[0]);break;case "control_subtitles_set_track":m$(this,h[0]);break;case "control_set_audio_track":this.setAudioTrack(h[0])}}jS(N){this.eS.eN(N)}Rr(N){this.LD("control_subtitles_set_track",
g.YY(N)?null:N)}l0(){const N=this.S.getOption("captions","track");g.YY(N)||m$(this,N)}hx(N){this.G.hx(N,this.S.getVideoData().lengthSeconds)}df(){g.YY(this.X)||PBY(this,this.X);this.O=!1}XA(N,h){this.U.stop();h===2&&this.M5()}T(){if(w6(this)){this.W.stop();var N=JN(this.ZT);switch(N.playerState){case 1080:case 1081:case 1084:case 1085:this.G.Gk=1;break;case 1082:case 1083:this.G.Gk=0;break;default:this.G.Gk=-1}switch(N.playerState){case 1081:case 1:this.yd(new g.D4(8));this.TO();break;case 1085:case 3:this.yd(new g.D4(9));
break;case 1083:case 0:this.yd(new g.D4(2));this.J.stop();this.hx(this.S.getVideoData().lengthSeconds);break;case 1084:this.yd(new g.D4(4));break;case 2:this.yd(new g.D4(4));this.hx(qO(N));break;case -1:this.yd(new g.D4(64));break;case -1E3:this.yd(new g.D4(128,{errorCode:"mdx.remoteerror",errorMessage:"This video is not available for remote playback.",NP:2}))}const O=JN(this.ZT).trackData;N=O;var h=this.X;(N||h?N&&h&&N.trackName==h.trackName&&N.languageCode==h.languageCode&&N.languageName==h.languageName&&
N.kind==h.kind:1)||(this.X=O,PBY(this,O));N=JN(this.ZT);N.volume===-1||Math.round(this.S.getVolume())===N.volume&&this.S.isMuted()===N.muted||this.D.isActive()||this.tQ()}else MK4(this)}WB(){this.S.publish("mdxpreviousnextchange")}V(){w6(this)||MK4(this)}fC(N){isNaN(N)||this.S.publish("mdxnowautoplaying",N)}Qm(){this.S.publish("mdxautoplaycanceled")}setAudioTrack(N){w6(this)&&this.ZT.setAudioTrack(this.S.getVideoData(1).videoId,N)}seekTo(N,h){JN(this.ZT).playerState===-1?KQ(this,N):h&&this.ZT.seekTo(N)}tQ(){if(w6(this)){var N=
JN(this.ZT);this.events.mF(this.FA);N.muted?this.S.mute():this.S.unMute();this.S.setVolume(N.volume);this.FA=this.events.A(this.S,"onVolumeChange",h=>{Rix(this,h)})}}TO(){this.W.stop();
if(!this.ZT.s3()){var N=JN(this.ZT);N.isPlaying()&&this.yd(new g.D4(8));this.hx(qO(N));this.W.start()}}M5(){this.U.stop();this.W.stop();const N=this.ZT.t_();this.ZT.U==2&&!isNaN(N)&&this.U.start()}yd(N){this.U.stop();const h=this.N;if(!g.Bw(h,N)){const O=N.G(2);O!==this.N.G(2)&&this.S.Fl(O);this.N=N;eiS(this.G,h,N)}}};var Tp5=class extends g.EP{constructor(N,h){super(N);this.G=h}getCurrentTime(){return this.G.getCurrentTime()}getDuration(){return this.G.getDuration()}E8(){return this.G.E8()}ll(){return this.G.ll()}dQ(){return this.G.dQ()}BV(){return this.G.BV()}getPlayerState(){return this.G.pg}isAtLiveHead(){return this.G.isAtLiveHead()}pauseVideo(){I1(this.G,"control_pause")}async playVideo(){I1(this.G,"control_play")}seekTo(N,h){I1(this.G,"control_seek",N,!h?.Yo)}u2(N){I1(this.G,"control_set_audio_track",N);
return!0}};var W_r=class extends g.k{constructor(){super({L:"div",B:"ytp-mdx-popup-dialog",Z:{role:"dialog"},C:[{L:"div",B:"ytp-mdx-popup-dialog-inner-content",C:[{L:"div",B:"ytp-mdx-popup-title",q5:"You're signed out"},{L:"div",B:"ytp-mdx-popup-description",q5:"Videos you watch may be added to the TV's watch history and influence TV recommendations. To avoid this, cancel and sign in to YouTube on your computer."},{L:"div",B:"ytp-mdx-privacy-popup-buttons",C:[{L:"button",m$:["ytp-button","ytp-mdx-privacy-popup-cancel"],
q5:"Cancel"},{L:"button",m$:["ytp-button","ytp-mdx-privacy-popup-confirm"],q5:"Confirm"}]}]}]});this.fade=new g.p6(this,250);this.cancelButton=this.Ir("ytp-mdx-privacy-popup-cancel");this.confirmButton=this.Ir("ytp-mdx-privacy-popup-confirm");g.R(this,this.fade);this.A(this.cancelButton,"click",this.G);this.A(this.confirmButton,"click",this.W)}dU(){this.fade.show()}m9(){this.fade.hide()}G(){Pf("mdx-privacy-popup-cancel");this.m9()}W(){Pf("mdx-privacy-popup-confirm");this.m9()}};var X7Y=class extends g.k{constructor(N){super({L:"div",B:"ytp-remote",C:[{L:"div",B:"ytp-remote-display-status",C:[{L:"div",B:"ytp-remote-display-status-icon",C:[g.vdZ()]},{L:"div",B:"ytp-remote-display-status-text",q5:"{{statustext}}"}]}]});this.api=N;this.fade=new g.p6(this,250);g.R(this,this.fade);this.A(N,"presentingplayerstatechange",this.onStateChange);this.H3(N.getPlayerStateObject())}onStateChange(N){this.H3(N.state)}H3(N){if(this.api.getPresentingPlayerType()===3){const h={RECEIVER_NAME:this.api.getOption("remote",
"currentReceiver").name};N=N.G(128)?g.wk("Error on $RECEIVER_NAME",h):N.isPlaying()||N.isPaused()?g.wk("Playing on $RECEIVER_NAME",h):g.wk("Connected to $RECEIVER_NAME",h);this.updateValue("statustext",N);this.fade.show()}else this.fade.hide()}};var fgo=class extends g.K1{constructor(N,h){super("Play on",1,N,h);this.S=N;this.Uj={};this.A(N,"onMdxReceiversChange",this.N);this.A(N,"presentingplayerstatechange",this.N);this.N()}N(){var N=this.S.getOption("remote","receivers");N&&N.length>1&&!this.S.getOption("remote","quickCast")?(this.Uj=g.pS(N,this.O,this),this.T(g.TZ(N,this.O)),N=this.S.getOption("remote","currentReceiver"),N=this.O(N),this.options[N]&&this.W(N),this.enable(!0)):this.enable(!1)}O(N){return N.key}X(N){return N==="cast-selector-receiver"?
"Cast...":this.Uj[N].name}G(N){super.G(N);this.S.setOption("remote","currentReceiver",this.Uj[N]);this.Yn.m9()}};g.rx("remote",class extends g.tc{constructor(N){super(N);this.OU={key:wL(),name:"This computer"};this.BE=null;this.subscriptions=[];this.Di=this.ZT=null;this.Uj=[this.OU];this.oe=this.OU;this.pg=new g.D4(64);this.zF=0;this.Gk=-1;this.JE=!1;this.ai=this.z1=this.ac=null;if(!g.yJ(this.player.K())&&!g.oi(this.player.K())){N=this.player;var h=g.rH(N);h&&(h=h.KW())&&(h=new fgo(N,h),g.R(this,h));h=new X7Y(N);g.R(this,h);g.FF(N,h.element,4);this.ac=new W_r;g.R(this,this.ac);g.FF(N,this.ac.element,4);this.JE=
!!Uf()}}create(){var N=this.player.K();const h=g.RC(N);N={device:"Desktop",app:"youtube-desktop",loadCastApiSetupScript:N.j("mdx_load_cast_api_bootstrap_script"),enableDialLoungeToken:N.j("enable_dial_short_lived_lounge_token"),enableCastLoungeToken:N.j("enable_cast_short_lived_lounge_token")};mfY(h,N);this.subscriptions.push(g.eJ("yt-remote-before-disconnect",this.au,this));this.subscriptions.push(g.eJ("yt-remote-connection-change",this.qp,this));this.subscriptions.push(g.eJ("yt-remote-receiver-availability-change",
this.nT,this));this.subscriptions.push(g.eJ("yt-remote-auto-connect",this.Wl,this));this.subscriptions.push(g.eJ("yt-remote-receiver-resumed",this.fL,this));this.subscriptions.push(g.eJ("mdx-privacy-popup-confirm",this.Ys,this));this.subscriptions.push(g.eJ("mdx-privacy-popup-cancel",this.Dk,this));this.nT()}load(){this.player.cancelPlayback();super.load();this.ai=new Tp5(this.player.K(),this);this.player.sG(this.ai);this.BE=new HUj(this,this.player,this.ZT);var N=(N=VKn())?N.currentTime:0;const h=
QX()?new Stm:null;N==0&&h&&(N=qO(JN(h)));N!==0&&this.hx(N);eiS(this,this.pg,this.pg);this.player.Zo(6)}unload(){this.player.publish("mdxautoplaycanceled");this.player.qx();this.oe=this.OU;g.pb(this.BE,this.ZT);this.ZT=this.ai=this.BE=null;super.unload();this.player.Zo(5);tP(this)}U3(){g.Ex(this.subscriptions);super.U3()}getAdState(){return this.Gk}v9(){return this.ZT?JN(this.ZT).v9:!1}yY(){return this.ZT?JN(this.ZT).yY:!1}hx(N,h){this.zF=N||0;this.player.publish("progresssync",N,h);g.ac(this.player,
"onVideoProgress",N||0)}getCurrentTime(){return this.zF}getDuration(){return JN(this.ZT).getDuration()||0}E8(){var N=JN(this.ZT);return N.X?N.G+cM(N):N.G}ll(){return JN(this.ZT).N}dQ(){return ndm(JN(this.ZT))}BV(){var N=JN(this.ZT);return N.W>0?N.W+cM(N):N.W}getProgressState(){const N=JN(this.ZT),h=this.player.getVideoData();return{airingStart:0,airingEnd:0,allowSeeking:N.playerState!=1081&&this.player.CU(),clipEnd:h.clipEnd,clipStart:h.clipStart,current:this.getCurrentTime(),displayedStart:-1,duration:this.getDuration(),
ingestionTime:this.E8(),isAtLiveHead:this.isAtLiveHead(),loaded:this.ll(),seekableEnd:this.dQ(),seekableStart:this.BV(),offset:0,viewerLivestreamJoinMediaTime:0}}isAtLiveHead(){return ndm(JN(this.ZT))-this.getCurrentTime()<=1}nextVideo(){this.ZT&&this.ZT.nextVideo()}IA(){this.ZT&&this.ZT.IA()}au(N){N===1&&(this.Di=this.ZT?JN(this.ZT):null)}qp(){var N=QX()?new Stm:null;if(N){const h=this.oe;this.loaded&&this.unload();this.ZT=N;this.Di=null;h.key!==this.OU.key&&(this.oe=h,this.load())}else g.M2(this.ZT),
this.ZT=null,this.loaded&&(this.unload(),(N=this.Di)&&N.videoId===this.player.getVideoData().videoId&&this.player.cueVideoById(N.videoId,qO(N)));this.player.publish("videodatachange","newdata",this.player.getVideoData(),3)}nT(){var N=[this.OU],h=N.concat;const O=IgK();VW()&&g.RW("yt-remote-cast-available")&&O.push({key:"cast-selector-receiver",name:"Cast..."});this.Uj=h.call(N,O);N=ik()||this.OU;$R(this,N);g.ac(this.player,"onMdxReceiversChange")}Wl(){const N=ik();$R(this,N)}fL(){this.oe=ik()}Ys(){this.JE=
!0;tP(this);zG=!1;BQ&&AP(BQ,1);BQ=null}Dk(){this.JE=!1;tP(this);$R(this,this.OU);this.oe=this.OU;zG=!1;BQ=null;this.player.playVideo()}Eq(N,h){switch(N){case "casting":return this.loaded;case "receivers":return this.Uj;case "currentReceiver":return h&&(h.key==="cast-selector-receiver"?PM():$R(this,h)),this.loaded?this.oe:this.OU;case "quickCast":return this.Uj.length===2&&this.Uj[1].key==="cast-selector-receiver"?(h&&PM(),!0):!1}}I8(){this.ZT.I8()}Ij(){return!1}getOptions(){return["casting","receivers",
"currentReceiver","quickCast"]}isLoggedIn(){return g.J("PLAYER_CONFIG")?.args?.authuser!==void 0?!0:!(!g.J("SESSION_INDEX")&&!g.J("LOGGED_IN"))}});})(_yt_player);
